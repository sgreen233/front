{"remainingRequest":"D:\\software\\front\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\software\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\front\\front\\src\\views\\website-manage\\components\\DlgEditContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\front\\front\\src\\views\\website-manage\\components\\DlgEditContent.vue","mtime":1715830118046},{"path":"D:\\software\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715830111371},{"path":"D:\\software\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1715830110683},{"path":"D:\\software\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715830111371},{"path":"D:\\software\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1715830117510}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovc29mdHdhcmUvZnJvbnQvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU2ltcGxlRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9TaW1wbGVEaWFsb2cnOwppbXBvcnQgbGlzdEFQSSBmcm9tICdAL2FwaS9saXN0JzsKaW1wb3J0IFdhbmdFZGl0b3IgZnJvbSAnQC9jb21wb25lbnRzL3dhbmctZWRpdG9yL2luZGV4JzsKaW1wb3J0IENPTlNUQU5UIGZyb20gJ0AvY29uc3RhbnQnOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgU2ltcGxlVXBsb2FkIGZyb20gJ0AvY29tcG9uZW50cy9TaW1wbGVVcGxvYWQnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgU2ltcGxlRGlhbG9nOiBTaW1wbGVEaWFsb2csCiAgICBXYW5nRWRpdG9yOiBXYW5nRWRpdG9yLAogICAgU2ltcGxlVXBsb2FkOiBTaW1wbGVVcGxvYWQKICB9LAogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVsZXRlRmlsZUxpc3Q6IFtdLAogICAgICBmb3JtOiB7fSwKICAgICAgZGVmYXVsdE1haW5TRFByb3BzOiB7CiAgICAgICAgZm9ybToge30sCiAgICAgICAga2V5V29yZDogJ0Jhc2VVc2VyJywKICAgICAgICBmb3JtSXRlbXM6IFt7CiAgICAgICAgICBuYW1lOiAn5qCH6aKYJywKICAgICAgICAgIGZpZWxkOiAnY2hhbm5lbENOYW1lJywKICAgICAgICAgIHBsYWNlaG9sZGVyOiAn5qCH6aKY5LiN6IO95Li656m6JywKICAgICAgICAgIHR5cGU6ICdpbnB1dCcKICAgICAgICB9XSwKICAgICAgICBmb3JtUnVsZXM6IHsKICAgICAgICAgIGNoYW5uZWxDTmFtZTogW3sKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmoIfpopjkuI3og73kuLrnqbonLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgIH1dCiAgICAgICAgfSwKICAgICAgICBkZWZhdWx0REJQcm9wczogewogICAgICAgICAgd2lkdGg6ICc4MCUnLAogICAgICAgICAgc29tZUZsYWdzOiB7CiAgICAgICAgICAgIG5lZWRNYXhCdG46IHRydWUKICAgICAgICAgIH0sCiAgICAgICAgICBmb290QnV0dG9uczogewogICAgICAgICAgICByZXBlYXRBZGQ6IHsKICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBmaWxlTWF4U2l6ZTogMTAsCiAgICAgIGltZ01heFNpemU6IDEsCiAgICAgIGltZ0FsbG93VHlwZTogQ09OU1RBTlQuRklMRV9UWVBFLklNRywKICAgICAgdXBJbWdCdXR0b25JbmZvOiB7CiAgICAgICAgbmFtZTogJysnLAogICAgICAgIHRvb2x0aXA6ICfor7fkuIrkvKDlm77niYfmlofku7bvvIzljZXkuKrmlofku7blpKflsI/kuI3otoXov4cxTeOAgicKICAgICAgfSwKICAgICAgdXBGaWxlQnV0dG9uSW5mbzogewogICAgICAgIG5hbWU6ICfngrnlh7vkuIrkvKDpmYTku7YnLAogICAgICAgIHRvb2x0aXA6ICflj6/ku6XkuIrkvKDlkITnp43nsbvlnovnmoTmlofku7bvvIzkvYbljZXkuKrmlofku7blpKflsI/kuI3otoXov4cxME3jgIInCiAgICAgIH0sCiAgICAgIGFsbG93TXVsdGlGaWxlczogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dEaWFsb2c6IGZ1bmN0aW9uIHNob3dEaWFsb2codmFsKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZm9ybTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBmb3JtID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiB7fTsKICAgICAgICAgICAgICAgIF90aGlzLmZvcm0gPSBfLmNsb25lRGVlcChmb3JtKTsgLy8g5omT5byA55qE5pe25YCZ55SoY2xvbmVEZWVw77yM6L+Z5qC35aSW5bGC5Lyg55qE5pe25YCZ5bCx55u05o6l5Lygcm935bCx5Y+v5Lul5LqGCgogICAgICAgICAgICAgICAgX3RoaXMuJHJlZnMuc2ltcGxlRGxnLnNob3dEaWFsb2codmFsLCBfdGhpcy5mb3JtLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZUltZ0NoYW5nZTogZnVuY3Rpb24gaGFuZGxlSW1nQ2hhbmdlKGltZ0xpc3QpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybSwgJ2ltYWdlcycsIGltZ0xpc3QpOwogICAgICB0aGlzLiRyZWZzLnNpbXBsZURsZy52ZXJpZnlWYWxpZCgpOwogICAgfSwKICAgIGhhbmRsZUZpbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUZpbGVDaGFuZ2UoZmlsZUxpc3QpIHsKICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybSwgJ2ZpbGVzJywgZmlsZUxpc3QpOwogICAgICB0aGlzLiRyZWZzLnNpbXBsZURsZy52ZXJpZnlWYWxpZCgpOwogICAgfSwKICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0ob3B0aW9uLCB0eXBlLCBmb3JtKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBsaXN0QVBJLmVkaXRPbmVOb2RlKCdNYWluQ2hhbm5lbENvbnRlbnQnLCBmb3JtKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kcmVmcy5pbWdVcGxvYWQuaGFuZGxlVXBsb2FkKF90aGlzMi4kc3RvcmUuZ2V0dGVycy51c2VySW5mby5pZCwgcmVzcC5kYXRhLmlkLCAxKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kcmVmcy5maWxlVXBsb2FkLmhhbmRsZVVwbG9hZChfdGhpczIuJHN0b3JlLmdldHRlcnMudXNlckluZm8uaWQsIHJlc3AuZGF0YS5pZCwgMik7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAvLyDpmLvmraLlvILmraXliLfmlrAKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyZWZzLnNpbXBsZURsZy4kcGFyZW50LiRwYXJlbnQuaW5pdERhdGFMaXN0KCk7CiAgICAgICAgICAgICAgICB9LCA3MDApOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["DlgEditContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,YAAA,MAAA,2BAAA;AACA,OAAA,OAAA,MAAA,YAAA;AACA,OAAA,UAAA,MAAA,gCAAA;AACA,OAAA,QAAA,MAAA,YAAA;AACA,OAAA,CAAA,MAAA,QAAA;AACA,OAAA,YAAA,MAAA,2BAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,YAAA,EAAA,YAAA;AAAA,IAAA,UAAA,EAAA,UAAA;AAAA,IAAA,YAAA,EAAA;AAAA,GADA;AAEA,EAAA,KAAA,EAAA,EAFA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,kBAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,UAFA;AAGA,QAAA,SAAA,EAAA,CACA;AAAA,UAAA,IAAA,EAAA,IAAA;AAAA,UAAA,KAAA,EAAA,cAAA;AAAA,UAAA,WAAA,EAAA,QAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SADA,CAHA;AAMA,QAAA,SAAA,EAAA;AACA,UAAA,YAAA,EAAA,CAAA;AAAA,YAAA,QAAA,EAAA,IAAA;AAAA,YAAA,OAAA,EAAA,QAAA;AAAA,YAAA,OAAA,EAAA;AAAA,WAAA;AADA,SANA;AASA,QAAA,cAAA,EAAA;AACA,UAAA,KAAA,EAAA,KADA;AAEA,UAAA,SAAA,EAAA;AACA,YAAA,UAAA,EAAA;AADA,WAFA;AAKA,UAAA,WAAA,EAAA;AAAA,YAAA,SAAA,EAAA;AAAA,cAAA,IAAA,EAAA;AAAA;AAAA;AALA;AATA,OAHA;AAoBA,MAAA,WAAA,EAAA,EApBA;AAqBA,MAAA,UAAA,EAAA,CArBA;AAsBA,MAAA,YAAA,EAAA,QAAA,CAAA,SAAA,CAAA,GAtBA;AAuBA,MAAA,eAAA,EAAA;AAAA,QAAA,IAAA,EAAA,GAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAvBA;AAwBA,MAAA,gBAAA,EAAA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAxBA;AAyBA,MAAA,eAAA,EAAA;AAzBA,KAAA;AA2BA,GAhCA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,GADA,EACA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAA,IAAA,0EAAA,EAAA;AACA,gBAAA,KAAA,CAAA,IAAA,GAAA,CAAA,CAAA,SAAA,CAAA,IAAA,CAAA,CADA,CACA;;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA,UAAA,CAAA,GAAA,EAAA,KAAA,CAAA,IAAA,EAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAJA;AAKA,IAAA,eALA,2BAKA,OALA,EAKA;AACA,WAAA,IAAA,CAAA,KAAA,IAAA,EAAA,QAAA,EAAA,OAAA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,WAAA;AACA,KARA;AASA,IAAA,gBATA,4BASA,QATA,EASA;AACA,WAAA,IAAA,CAAA,KAAA,IAAA,EAAA,OAAA,EAAA,QAAA;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,WAAA;AACA,KAZA;AAaA,IAAA,OAbA,mBAaA,MAbA,EAaA,IAbA,EAaA,IAbA,EAaA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,OAAA,CAAA,WAAA,CAAA,oBAAA,EAAA,IAAA,CAFA;;AAAA;AAEA,gBAAA,IAFA;AAAA;AAAA,uBAGA,MAAA,CAAA,KAAA,CAAA,SAAA,CAAA,YAAA,CAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAAA,EAAA,IAAA,CAAA,IAAA,CAAA,EAAA,EAAA,CAAA,CAHA;;AAAA;AAAA;AAAA,uBAIA,MAAA,CAAA,KAAA,CAAA,UAAA,CAAA,YAAA,CAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAAA,EAAA,IAAA,CAAA,IAAA,CAAA,EAAA,EAAA,CAAA,CAJA;;AAAA;AAKA,gBAAA,UAAA,CAAA,YAAA;AACA;AACA,kBAAA,MAAA,CAAA,KAAA,CAAA,SAAA,CAAA,OAAA,CAAA,OAAA,CAAA,YAAA;AACA,iBAHA,EAGA,GAHA,CAAA;AALA;AAAA;;AAAA;AAAA;AAAA;AAUA,gBAAA,OAAA,CAAA,GAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAzBA;AAjCA,CAAA","sourcesContent":["<template>\r\n  <div>    \r\n    <SimpleDialog ref=\"simpleDlg\" :default-props=\"defaultMainSDProps\" :simpledialog-confirm=\"confirm\">\r\n      <template slot=\"otherItems\">\r\n        <el-row>\r\n          <el-col :span=\"11\">\r\n            <el-form-item label=\"是否发布\">\r\n              <el-switch v-model=\"form.publishStatus\" />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"11\">\r\n            <el-form-item label=\"轮播图展示\">\r\n              <el-switch v-model=\"form.channelCSlider\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-form-item label=\"正文\">\r\n          <wang-editor v-model=\"form.channelCText\" :value=\"form.channelCText\" />\r\n        </el-form-item>\r\n        <el-form-item prop=\"images\" label=\"图片上传\">\r\n          <SimpleUpload ref=\"imgUpload\" v-model=\"form.images\" list-type=\"picture-card\" :up-button-info=\"upImgButtonInfo\" :file-max-size=\"imgMaxSize\" :multiple=\"allowMultiFiles\" :fileAllowedTypes=\"imgAllowType\" @handle-change=\"handleImgChange\" />\r\n        </el-form-item>\r\n        <el-form-item prop=\"files\" label=\"附件上传\">\r\n          <SimpleUpload ref=\"fileUpload\" v-model=\"form.files\" :up-button-info=\"upFileButtonInfo\" :file-max-size=\"fileMaxSize\" :multiple=\"allowMultiFiles\"  @handle-change=\"handleFileChange\" />\r\n        </el-form-item>\r\n      </template>\r\n    </SimpleDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport SimpleDialog from '@/components/SimpleDialog'\r\nimport listAPI from '@/api/list'\r\nimport WangEditor from '@/components/wang-editor/index'\r\nimport CONSTANT from '@/constant'\r\nimport _ from 'lodash'\r\nimport SimpleUpload from '@/components/SimpleUpload'\r\nexport default {\r\n  components: { SimpleDialog, WangEditor, SimpleUpload },\r\n  props: {\r\n  },\r\n  data() {\r\n    return {\r\n      deleteFileList: [],\r\n      form: {},\r\n      defaultMainSDProps: {\r\n        form: {},\r\n        keyWord: 'BaseUser',\r\n        formItems: [\r\n          { name: '标题', field: 'channelCName', placeholder: '标题不能为空', type: 'input' }\r\n        ],\r\n        formRules: {\r\n          channelCName: [{ required: true, message: '标题不能为空', trigger: 'blur' }]\r\n        },\r\n        defaultDBProps: {\r\n          width: '80%',\r\n          someFlags: {\r\n            needMaxBtn: true\r\n          },\r\n          footButtons: { repeatAdd: { show: false }}\r\n        }\r\n      },\r\n      fileMaxSize: 10,\r\n      imgMaxSize: 1,\r\n      imgAllowType: CONSTANT.FILE_TYPE.IMG,\r\n      upImgButtonInfo: { name: '+', tooltip: '请上传图片文件，单个文件大小不超过1M。' },\r\n      upFileButtonInfo: { name: '点击上传附件', tooltip: '可以上传各种类型的文件，但单个文件大小不超过10M。' },\r\n      allowMultiFiles: true\r\n    }\r\n  },  \r\n  methods: {\r\n    async showDialog(val, form = {}) {\r\n      this.form = _.cloneDeep(form) // 打开的时候用cloneDeep，这样外层传的时候就直接传row就可以了\r\n      this.$refs.simpleDlg.showDialog(val, this.form, true)\r\n    },\r\n    handleImgChange(imgList) {\r\n      this.$set(this.form, 'images', imgList)    \r\n      this.$refs.simpleDlg.verifyValid()\r\n    },\r\n    handleFileChange(fileList) {      \r\n      this.$set(this.form, 'files', fileList)\r\n      this.$refs.simpleDlg.verifyValid()\r\n    },\r\n    async confirm(option, type, form) {      \r\n      try {\r\n        const resp = await listAPI.editOneNode('MainChannelContent', form)\r\n        await this.$refs.imgUpload.handleUpload(this.$store.getters.userInfo.id, resp.data.id, 1)\r\n        await this.$refs.fileUpload.handleUpload(this.$store.getters.userInfo.id, resp.data.id, 2)\r\n        setTimeout(() => {\r\n          // 阻止异步刷新\r\n          this.$refs.simpleDlg.$parent.$parent.initDataList()\r\n        }, 700)\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/website-manage/components"}]}