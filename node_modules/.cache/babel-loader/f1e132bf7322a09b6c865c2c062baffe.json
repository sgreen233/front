{"remainingRequest":"D:\\software\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\software\\front\\src\\directive\\el-card\\adaptive-card.js","dependencies":[{"path":"D:\\software\\front\\src\\directive\\el-card\\adaptive-card.js","mtime":1636596374416},{"path":"D:\\software\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovc29mdHdhcmUvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwoKLy8gYmluZO+8muWPquiwg+eUqOS4gOasoe+8jOaMh+S7pOesrOS4gOasoee7keWumuWIsOWFg+e0oOaXtuiwg+eUqOOAguWcqOi/memHjOWPr+S7pei/m+ihjOS4gOasoeaAp+eahOWIneWni+WMluiuvue9ruOAggovLyBpbnNlcnRlZO+8muiiq+e7keWumuWFg+e0oOaPkuWFpeeItuiKgueCueaXtuiwg+eUqCAo5LuF5L+d6K+B54i26IqC54K55a2Y5Zyo77yM5L2G5LiN5LiA5a6a5bey6KKr5o+S5YWl5paH5qGj5LitKeOAggovLyB1bmJpbmTvvJrlj6rosIPnlKjkuIDmrKHvvIzmjIfku6TkuI7lhYPntKDop6Pnu5Hml7bosIPnlKjjgIIKLy8g6K6+572u6KGo5qC86auY5bqmCnZhciBkb1Jlc2l6ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZWwsIGJpbmRpbmcsIHZub2RlKSB7CiAgICB2YXIgX3lpZWxkJHZub2RlLCAkY2FyZCwgdmFsdWUsIGJvdHRvbU9mZnNldCwgbWluSGVpZ2h0LCB0b3RhbEhlaWdodCwgaGVpZ2h0OwoKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiB2bm9kZTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIF95aWVsZCR2bm9kZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICRjYXJkID0gX3lpZWxkJHZub2RlLmNvbXBvbmVudEluc3RhbmNlOwogICAgICAgICAgICAvLyDojrflj5bosIPnlKjkvKDpgJLov4fmnaXnmoTmlbDmja4KICAgICAgICAgICAgdmFsdWUgPSBiaW5kaW5nLnZhbHVlOyAvLyDojrflj5bot53lupXpg6jot53nprvvvIjnlKjkuo7lsZXnpLrpobXnoIHnrYnkv6Hmga/vvIkKCiAgICAgICAgICAgIGJvdHRvbU9mZnNldCA9IHZhbHVlICYmIHZhbHVlLmJvdHRvbU9mZnNldCB8fCAxOTsKICAgICAgICAgICAgbWluSGVpZ2h0ID0gMjMxOwoKICAgICAgICAgICAgaWYgKCRjYXJkKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgLy8g6K6h566X5YiX6KGo6auY5bqm5bm26K6+572uCiAgICAgICAgICAgIHRvdGFsSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gYm90dG9tT2Zmc2V0OwogICAgICAgICAgICBoZWlnaHQgPSB0b3RhbEhlaWdodCA8IG1pbkhlaWdodCA/IG1pbkhlaWdodCA6IHRvdGFsSGVpZ2h0OwogICAgICAgICAgICAkY2FyZC4kZWwuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JzsKICAgICAgICAgICAgJGNhcmQuJGVsLnN0eWxlLnRyYW5zaXRpb24gPSAndW5zZXQnOwoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZG9SZXNpemUoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IHsKICAvLyDliJ3lp4vljJborr7nva4KICBiaW5kOiBmdW5jdGlvbiBiaW5kKGVsLCBiaW5kaW5nLCB2bm9kZSkgewogICAgLy8g6K6+572ucmVzaXpl55uR5ZCs5pa55rOVCiAgICBlbC5yZXNpemVMaXN0ZW5lciA9IC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZG9SZXNpemUoZWwsIGJpbmRpbmcsIHZub2RlKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKTsgLy8g57uR5a6a55uR5ZCs5pa55rOV5YiwYWRkUmVzaXplTGlzdGVuZXIKICAgIC8vIGFkZFJlc2l6ZUxpc3RlbmVyKHdpbmRvdy5kb2N1bWVudC5ib2R5LCBlbC5yZXNpemVMaXN0ZW5lcikKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZWwucmVzaXplTGlzdGVuZXIpOwogIH0sCiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlKSB7CiAgICBkb1Jlc2l6ZShlbCwgYmluZGluZywgdm5vZGUpOwogIH0sCiAgLy8g57uR5a6a6buY6K6k6auY5bqmCiAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBkb1Jlc2l6ZShlbCwgYmluZGluZywgdm5vZGUpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICAvLyDplIDmr4Hml7borr7nva4KICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZChlbCkgewogICAgLy8g56e76ZmkcmVzaXpl55uR5ZCsCiAgICAvLyByZW1vdmVSZXNpemVMaXN0ZW5lcihlbCwgZWwucmVzaXplTGlzdGVuZXIpCiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZWwucmVzaXplTGlzdGVuZXIpOwogIH0KfTs="},{"version":3,"sources":["D:/software/front/src/directive/el-card/adaptive-card.js"],"names":["doResize","el","binding","vnode","$card","componentInstance","value","bottomOffset","minHeight","totalHeight","window","innerHeight","getBoundingClientRect","top","height","$el","style","transition","bind","resizeListener","addEventListener","update","inserted","unbind","removeEventListener"],"mappings":";;;AAAA;AACA;AACA;AAEA;AACA,IAAMA,QAAQ;AAAA,qEAAG,iBAAMC,EAAN,EAAUC,OAAV,EAAmBC,KAAnB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAILA,KAJK;;AAAA;AAAA;AAGMC,YAAAA,KAHN,gBAGbC,iBAHa;AAKf;AAEEC,YAAAA,KAPa,GAQXJ,OARW,CAObI,KAPa,EAUf;;AACMC,YAAAA,YAXS,GAWOD,KAAK,IAAIA,KAAK,CAACC,YAAhB,IAAiC,EAXvC;AAaTC,YAAAA,SAbS,GAaG,GAbH;;AAAA,gBAeVJ,KAfU;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAiBf;AACMK,YAAAA,WAlBS,GAkBKC,MAAM,CAACC,WAAP,GAAqBV,EAAE,CAACW,qBAAH,GAA2BC,GAAhD,GAAsDN,YAlB3D;AAmBTO,YAAAA,MAnBS,GAmBAL,WAAW,GAAGD,SAAd,GAA0BA,SAA1B,GAAsCC,WAnBtC;AAqBfL,YAAAA,KAAK,CAACW,GAAN,CAAUC,KAAV,CAAgBF,MAAhB,GAAyBA,MAAM,GAAG,IAAlC;AACAV,YAAAA,KAAK,CAACW,GAAN,CAAUC,KAAV,CAAgBC,UAAhB,GAA6B,OAA7B;;AAtBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAARjB,QAAQ;AAAA;AAAA;AAAA,GAAd;;AAyBA,eAAe;AACb;AACAkB,EAAAA,IAFa,gBAERjB,EAFQ,EAEJC,OAFI,EAEKC,KAFL,EAEY;AACvB;AACAF,IAAAA,EAAE,CAACkB,cAAH,wEAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACZnB,QAAQ,CAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,CADI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAApB,GAFuB,CAKvB;AACA;;AACAO,IAAAA,MAAM,CAACU,gBAAP,CAAwB,QAAxB,EAAkCnB,EAAE,CAACkB,cAArC;AACD,GAVY;AAWbE,EAAAA,MAXa,kBAWNpB,EAXM,EAWFC,OAXE,EAWOC,KAXP,EAWc;AACzBH,IAAAA,QAAQ,CAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAAR;AACD,GAbY;AAcb;AACMmB,EAAAA,QAfO,oBAeErB,EAfF,EAeMC,OAfN,EAeeC,KAff,EAesB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAC3BH,QAAQ,CAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,CADmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAElC,GAjBY;AAkBb;AACAoB,EAAAA,MAnBa,kBAmBNtB,EAnBM,EAmBF;AACT;AACA;AACAS,IAAAA,MAAM,CAACc,mBAAP,CAA2B,QAA3B,EAAqCvB,EAAE,CAACkB,cAAxC;AACD;AAvBY,CAAf","sourcesContent":["// bind：只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。\r\n// inserted：被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)。\r\n// unbind：只调用一次，指令与元素解绑时调用。\r\n\r\n// 设置表格高度\r\nconst doResize = async(el, binding, vnode) => {\r\n  // 获取表格Dom对象\r\n  const {\r\n    componentInstance: $card\r\n  } = await vnode\r\n  // 获取调用传递过来的数据\r\n  const {\r\n    value\r\n  } = binding\r\n\r\n  // 获取距底部距离（用于展示页码等信息）\r\n  const bottomOffset = (value && value.bottomOffset) || 19\r\n\r\n  const minHeight = 231\r\n\r\n  if (!$card) return\r\n\r\n  // 计算列表高度并设置\r\n  const totalHeight = window.innerHeight - el.getBoundingClientRect().top - bottomOffset\r\n  const height = totalHeight < minHeight ? minHeight : totalHeight\r\n\r\n  $card.$el.style.height = height + 'px'\r\n  $card.$el.style.transition = 'unset'\r\n}\r\n\r\nexport default {\r\n  // 初始化设置\r\n  bind(el, binding, vnode) {\r\n    // 设置resize监听方法\r\n    el.resizeListener = async() => {\r\n      await doResize(el, binding, vnode)\r\n    }\r\n    // 绑定监听方法到addResizeListener\r\n    // addResizeListener(window.document.body, el.resizeListener)\r\n    window.addEventListener('resize', el.resizeListener)\r\n  },\r\n  update(el, binding, vnode) {\r\n    doResize(el, binding, vnode)\r\n  },\r\n  // 绑定默认高度\r\n  async inserted(el, binding, vnode) {\r\n    await doResize(el, binding, vnode)\r\n  },\r\n  // 销毁时设置\r\n  unbind(el) {\r\n    // 移除resize监听\r\n    // removeResizeListener(el, el.resizeListener)\r\n    window.removeEventListener('resize', el.resizeListener)\r\n  }\r\n}\r\n\r\n"]}]}