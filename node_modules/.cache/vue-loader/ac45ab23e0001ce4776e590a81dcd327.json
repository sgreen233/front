{"remainingRequest":"D:\\software\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\front\\front\\src\\views\\website-page\\pages\\competition\\components\\CompetitionNotice.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\front\\front\\src\\views\\website-page\\pages\\competition\\components\\CompetitionNotice.vue","mtime":1715830118050},{"path":"D:\\software\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715830111371},{"path":"D:\\software\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1715830110683},{"path":"D:\\software\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715830111371},{"path":"D:\\software\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1715830117510}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVGl0bGVBbmRUaHVtYm5haWwgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9UaXRsZUFuZFRodW1ibmFpbC52dWUnDQppbXBvcnQgd2ViQVBJIGZyb20gJ0AvYXBpL3dlYnNpdGUnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdDb21wZXRpdGlvbk5vdGljZScsDQogIGNvbXBvbmVudHM6IHsgVGl0bGVBbmRUaHVtYm5haWwgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICBwYWdlU2l6ZTogNSwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgaW5kZXg6IDEsDQogICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgIGxpc3Q6IFtdDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgICRyb3V0ZShuZXdWYWwsIG9sZFZhbCkgew0KICAgICAgaWYgKG5ld1ZhbC5uYW1lID09PSAnQ29tcGV0aXRpb24nICYmIG9sZFZhbC5uYW1lID09PSAnY29tcGV0aXRpb25EZXRhaWwnKSB7DQogICAgICAgIHRoaXMuZ2V0RGF0YSh0aGlzLiRyb3V0ZS5tZXRhLmNoaWxkcmVuWzBdLmlkKQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBpZiAoIXRoaXMuJHJvdXRlLnBhdGguaW5jbHVkZXMoJ0RldGFpbCcpKSB7DQogICAgICB0aGlzLmdldERhdGEodGhpcy4kcm91dGUubWV0YS5jaGlsZHJlblt0aGlzLiRyb3V0ZS5xdWVyeS5pbmRleCA/IHBhcnNlSW50KHRoaXMuJHJvdXRlLnF1ZXJ5LmluZGV4KSA6IDBdLmlkKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGdldERhdGEodHlwZSkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB3ZWJBUEkuY29sdW1uQ29udGVudCh7DQogICAgICAgICAgY2hhbm5lbFR5cGVJZDogdHlwZSwNCiAgICAgICAgICBwYWdlOiB0aGlzLmN1cnJlbnRQYWdlLA0KICAgICAgICAgIHNpemU6IHRoaXMucGFnZVNpemUNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy50b3RhbCA9IHJlcy50b3RhbEVsZW1lbnRzDQogICAgICAgIHRoaXMubGlzdCA9IHJlcy5jb250ZW50DQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgfQ0KICAgIH0sDQogICAgdGFiQ2xpY2soaW5kZXgpIHsNCiAgICAgIHRoaXMuaW5kZXggPSBpbmRleA0KICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDENCiAgICAgIHRoaXMuZ2V0RGF0YSh0aGlzLiRyb3V0ZS5tZXRhLmNoaWxkcmVuW3BhcnNlSW50KGluZGV4KSAtIDFdLmlkKQ0KICAgIH0sDQogICAgaGFuZGxlU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWwNCiAgICAgIHRoaXMuZ2V0RGF0YSh0aGlzLiRyb3V0ZS5tZXRhLmNoaWxkcmVuW3BhcnNlSW50KHRoaXMuaW5kZXgpIC0gMV0uaWQpDQogICAgfSwNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbA0KICAgICAgdGhpcy5nZXREYXRhKHRoaXMuJHJvdXRlLm1ldGEuY2hpbGRyZW5bcGFyc2VJbnQodGhpcy5pbmRleCkgLSAxXS5pZCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["CompetitionNotice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CompetitionNotice.vue","sourceRoot":"src/views/website-page/pages/competition/components","sourcesContent":["<template>\r\n  <transition name=\"fade-transform\" mode=\"out-in\">\r\n    <div v-if=\"!$route.path.includes('Detail')\" v-loading=\"loading\" class=\"Notice\">\r\n      <el-scrollbar :style=\"`height:calc(100vh - 305px)`\">\r\n        <el-empty v-if=\"list.length===0\" description=\"暂无数据\" />\r\n        <TitleAndThumbnail v-for=\"(item, i) in list\" :key=\"item.id\" :detail=\"item\" :has-bottom-border=\"!(i+1===list.length)\" path=\"/website/competition/competitionDetail\" />\r\n      </el-scrollbar>\r\n      <div style=\"width:100%;display:flex;justify-content: center;\">\r\n        <el-pagination :current-page.sync=\"currentPage\" :page-sizes=\"[5,25,50,75,100]\" :page-size=\"pageSize\" layout=\"sizes, prev, pager, next\" :total=\"total\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" />\r\n      </div>\r\n    </div>\r\n    <router-view v-else />\r\n  </transition>\r\n</template>\r\n<script>\r\nimport TitleAndThumbnail from '../../../components/TitleAndThumbnail.vue'\r\nimport webAPI from '@/api/website'\r\nexport default {\r\n  name: 'CompetitionNotice',\r\n  components: { TitleAndThumbnail },\r\n  data() {\r\n    return {\r\n      currentPage: 1,\r\n      pageSize: 5,\r\n      total: 0,\r\n      index: 1,\r\n      loading: false,\r\n      list: []\r\n    }\r\n  },\r\n  watch: {\r\n    $route(newVal, oldVal) {\r\n      if (newVal.name === 'Competition' && oldVal.name === 'competitionDetail') {\r\n        this.getData(this.$route.meta.children[0].id)\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    if (!this.$route.path.includes('Detail')) {\r\n      this.getData(this.$route.meta.children[this.$route.query.index ? parseInt(this.$route.query.index) : 0].id)\r\n    }\r\n  },\r\n  methods: {\r\n    async getData(type) {\r\n      try {\r\n        this.loading = true\r\n        const res = await webAPI.columnContent({\r\n          channelTypeId: type,\r\n          page: this.currentPage,\r\n          size: this.pageSize\r\n        })\r\n        this.total = res.totalElements\r\n        this.list = res.content\r\n        this.loading = false\r\n      } catch (error) {\r\n        this.loading = false\r\n      }\r\n    },\r\n    tabClick(index) {\r\n      this.index = index\r\n      this.currentPage = 1\r\n      this.getData(this.$route.meta.children[parseInt(index) - 1].id)\r\n    },\r\n    handleSizeChange(val) {\r\n      this.pageSize = val\r\n      this.getData(this.$route.meta.children[parseInt(this.index) - 1].id)\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val\r\n      this.getData(this.$route.meta.children[parseInt(this.index) - 1].id)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"~@/assets/css/variables.scss\";\r\n</style>\r\n"]}]}