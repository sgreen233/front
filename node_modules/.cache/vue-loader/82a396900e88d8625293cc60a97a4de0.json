{"remainingRequest":"D:\\software\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\front\\src\\views\\master-page\\BaseTreeList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\front\\src\\views\\master-page\\BaseTreeList.vue","mtime":1670666520500},{"path":"D:\\software\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGF0YVRyZWUgZnJvbSAnQC9jb21wb25lbnRzL0RhdGFUcmVlJw0KaW1wb3J0IERhdGFUYWJsZUxpc3QgZnJvbSAnQC9jb21wb25lbnRzL0RhdGFUYWJsZUxpc3QnDQppbXBvcnQgU2ltcGxlRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9TaW1wbGVEaWFsb2cnDQppbXBvcnQgeyBjdXN0b21pemUgfSBmcm9tICdAL3V0aWxzL2NvbW1vbicNCmltcG9ydCBfIGZyb20gJ2xvZGFzaCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0Jhc2VUcmVlTGlzdCcsDQogIGNvbXBvbmVudHM6IHsgRGF0YVRhYmxlTGlzdCwgRGF0YVRyZWUsIFNpbXBsZURpYWxvZyB9LA0KICBwcm9wczogew0KICAgIGRlZmF1bHRQcm9wczogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgZGVmYXVsdDogKCkgPT4gew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIGtleVdvcmQ6IHsgfSwNCiAgICAgICAgICB0cmVlUmVsQ29sTmFtZTogJycsDQogICAgICAgICAgZGVmYXVsdERUTFByb3BzOiB7DQogICAgICAgICAgICB0aXRsZToge30sDQogICAgICAgICAgICBkZWZhdWx0RFRIUHJvcHM6IHsNCiAgICAgICAgICAgICAgdGFibGVDb2x1bW5zOiB7IH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGRlZmF1bHRTRFByb3BzOiB7DQogICAgICAgICAgICBmb3JtSXRlbXM6IFtdLA0KICAgICAgICAgICAgZm9ybVJ1bGVzOiB7fSwNCiAgICAgICAgICAgIGRlZmF1bHREQlByb3BzOiB7DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRlZmF1bHREVFByb3BzOiB7fSwNCiAgICAgIGRlZmF1bHREVExQcm9wczogew0KICAgICAgICB0cmVlSW5mbzogeyB9DQogICAgICAgIC8vIHNlYXJjaEl0ZW1zOiBbXQ0KICAgICAgfSwNCiAgICAgIGRlZmF1bHRTRFByb3BzOiB7fSwNCiAgICAgIHRyZWVJbmZvOiB7fSwNCiAgICAgIHRoaXNFdmVudHM6ICcnDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC8vIGNhbFJlZ0tleTogew0KICAgIC8vICAgZ2V0OiBmdW5jdGlvbigpIHsNCiAgICAvLyAgICAgcmV0dXJuIHRoaXMucmVnS2V5DQogICAgLy8gICB9LA0KICAgIC8vICAgc2V0OiBmdW5jdGlvbigpIHsNCg0KICAgIC8vICAgfQ0KICAgIC8vIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBfLm1lcmdlV2l0aCh0aGlzLmRlZmF1bHREVFByb3BzLCB0aGlzLmRlZmF1bHRQcm9wcy5kZWZhdWx0RFRQcm9wcywgY3VzdG9taXplKQ0KICAgIF8ubWVyZ2VXaXRoKHRoaXMuZGVmYXVsdERUTFByb3BzLCB0aGlzLmRlZmF1bHRQcm9wcy5kZWZhdWx0RFRMUHJvcHMsIGN1c3RvbWl6ZSkNCiAgICBfLm1lcmdlV2l0aCh0aGlzLmRlZmF1bHRTRFByb3BzLCB0aGlzLmRlZmF1bHRQcm9wcy5kZWZhdWx0U0RQcm9wcywgY3VzdG9taXplKQ0KICAgIHRoaXMudHJlZUluZm8gPSB0aGlzLmRlZmF1bHREVExQcm9wcy50cmVlSW5mbw0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMudGhpc0V2ZW50cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5fZXZlbnRzKSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGluaXREYXRhTGlzdCgpIHsNCiAgICAgIHRoaXMuJHJlZnMuZGF0YVRhYmxlTGlzdC5pbml0RGF0YUxpc3QoKQ0KICAgIH0sDQogICAgaGFuZGxlTm9kZUNsaWNrKHZhbCkgew0KICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnRyZWVJbmZvLCB7IHRyZWVLZXlXb3JkczogdGhpcy5kZWZhdWx0RFRQcm9wcy5rZXlXb3JkLCB0cmVlTm9kZUlkOiB2YWwuaWQsIHRyZWVSZWxDb2xOYW1lOiB0aGlzLmRlZmF1bHRQcm9wcy50cmVlUmVsQ29sTmFtZSB9KQ0KICAgICAgdGhpcy4kZW1pdCgnc2V0LXR5cGUnLCB2YWwuaWQpDQogICAgICB0aGlzLmluaXREYXRhTGlzdCgpDQogICAgfSwNCiAgICBhcHBlbmRDbGljaygpIHsNCiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy50aGlzRXZlbnRzLCAnYXBwZW5kLWNsaWNrJykpIHsNCiAgICAgICAgdGhpcy4kZW1pdCgnYXBwZW5kLWNsaWNrJykNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIHRoaXMuZm9ybSA9IHJlc2V0Rm9ybSh0aGlzLmZvcm0pDQogICAgICB9DQogICAgfSwNCiAgICBlZGl0Q2xpY2socm93KSB7DQogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudGhpc0V2ZW50cywgJ2VkaXQtY2xpY2snKSkgew0KICAgICAgICB0aGlzLiRlbWl0KCdlZGl0LWNsaWNrJywgcm93KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8gdGhpcy5mb3JtID0gXy5jbG9uZURlZXAocm93KQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2VhcmNoQ2xpY2sodmFsKSB7DQogICAgICB0aGlzLnJlZ0tleSA9IHsgbmFtZTogJ+KJiCcsIC4uLnRoaXMucmVnS2V5IH0NCiAgICAgIHRoaXMuc2VhcmNoS2V5ID0geyBuYW1lOiB2YWwsIC4uLnRoaXMuc2VhcmNoS2V5IH0NCiAgICAgIC8vIOeItuWtkOe7hOS7tuS8oOmAkuaVsOaNruS4jeWPiuaXtueahOmXrumimA0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMuJHJlZnMuZGF0YVRhYmxlTGlzdC5pbml0RGF0YUxpc3QoKQ0KICAgICAgfSwgNTAwKQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["BaseTreeList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaseTreeList.vue","sourceRoot":"src/views/master-page","sourcesContent":["<template>\r\n  <div>\r\n    <tree-list>\r\n      <template #aside>\r\n        <DataTree :default-props=\"defaultDTProps\" @node-click=\"handleNodeClick\" />\r\n      </template>\r\n      <template #main>\r\n        <!-- 列表1 -->\r\n        <DataTableList ref=\"dataTableList\" :default-props=\"defaultDTLProps\" @edit-click=\"editClick\" @append-click=\"appendClick\" />\r\n      </template>\r\n    </tree-list>\r\n    <slot name=\"dlg\">\r\n      <!-- 简单窗口 -->\r\n      <SimpleDialog :default-props=\"defaultSDProps\" />\r\n    </slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DataTree from '@/components/DataTree'\r\nimport DataTableList from '@/components/DataTableList'\r\nimport SimpleDialog from '@/components/SimpleDialog'\r\nimport { customize } from '@/utils/common'\r\nimport _ from 'lodash'\r\nexport default {\r\n  name: 'BaseTreeList',\r\n  components: { DataTableList, DataTree, SimpleDialog },\r\n  props: {\r\n    defaultProps: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          keyWord: { },\r\n          treeRelColName: '',\r\n          defaultDTLProps: {\r\n            title: {},\r\n            defaultDTHProps: {\r\n              tableColumns: { }\r\n            }\r\n          },\r\n          defaultSDProps: {\r\n            formItems: [],\r\n            formRules: {},\r\n            defaultDBProps: {\r\n\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      defaultDTProps: {},\r\n      defaultDTLProps: {\r\n        treeInfo: { }\r\n        // searchItems: []\r\n      },\r\n      defaultSDProps: {},\r\n      treeInfo: {},\r\n      thisEvents: ''\r\n    }\r\n  },\r\n  computed: {\r\n    // calRegKey: {\r\n    //   get: function() {\r\n    //     return this.regKey\r\n    //   },\r\n    //   set: function() {\r\n\r\n    //   }\r\n    // }\r\n  },\r\n  created() {\r\n    _.mergeWith(this.defaultDTProps, this.defaultProps.defaultDTProps, customize)\r\n    _.mergeWith(this.defaultDTLProps, this.defaultProps.defaultDTLProps, customize)\r\n    _.mergeWith(this.defaultSDProps, this.defaultProps.defaultSDProps, customize)\r\n    this.treeInfo = this.defaultDTLProps.treeInfo\r\n  },\r\n  mounted() {\r\n    this.thisEvents = JSON.parse(JSON.stringify(this._events))\r\n  },\r\n  methods: {\r\n    async initDataList() {\r\n      this.$refs.dataTableList.initDataList()\r\n    },\r\n    handleNodeClick(val) {\r\n      Object.assign(this.treeInfo, { treeKeyWords: this.defaultDTProps.keyWord, treeNodeId: val.id, treeRelColName: this.defaultProps.treeRelColName })\r\n      this.$emit('set-type', val.id)\r\n      this.initDataList()\r\n    },\r\n    appendClick() {\r\n      if (Object.prototype.hasOwnProperty.call(this.thisEvents, 'append-click')) {\r\n        this.$emit('append-click')\r\n      } else {\r\n        // this.form = resetForm(this.form)\r\n      }\r\n    },\r\n    editClick(row) {\r\n      if (Object.prototype.hasOwnProperty.call(this.thisEvents, 'edit-click')) {\r\n        this.$emit('edit-click', row)\r\n      } else {\r\n        // this.form = _.cloneDeep(row)\r\n      }\r\n    },\r\n    searchClick(val) {\r\n      this.regKey = { name: '≈', ...this.regKey }\r\n      this.searchKey = { name: val, ...this.searchKey }\r\n      // 父子组件传递数据不及时的问题\r\n      setTimeout(() => {\r\n        this.$refs.dataTableList.initDataList()\r\n      }, 500)\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}