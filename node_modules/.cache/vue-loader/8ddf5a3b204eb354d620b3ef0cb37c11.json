{"remainingRequest":"D:\\software\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\front\\front\\src\\views\\system-manage\\Role.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\front\\front\\src\\views\\system-manage\\Role.vue","mtime":1715830118045},{"path":"D:\\software\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715830111371},{"path":"D:\\software\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1715830110683},{"path":"D:\\software\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715830111371},{"path":"D:\\software\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1715830117510}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcm9sZUFQSSBmcm9tICdAL2FwaS9yb2xlJw0KaW1wb3J0IEJhc2VMaXN0IGZyb20gJ0Avdmlld3MvbWFzdGVyLXBhZ2UvQmFzZUxpc3QnDQppbXBvcnQgYWRhcHRpdmUgZnJvbSAnQC9kaXJlY3RpdmUvZWwtdGFibGUnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdSb2xlJywNCiAgY29tcG9uZW50czogeyBCYXNlTGlzdCB9LA0KICBkaXJlY3RpdmVzOiB7IGFkYXB0aXZlIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIHRpdGxlPSLop5LoibLliJfooagiIDpjdXJkPSJjdXJkIiA6ZWRpdC1rZXktd29yZHM9ImVkaXRLZXlXb3JkcyIgOnZpZXcta2V5LXdvcmRzPSJlZGl0S2V5V29yZHMiDQogICAgICBkZWZhdWx0QkxQcm9wczogew0KICAgICAgICBkZWZhdWx0RFRMUHJvcHM6IHsNCiAgICAgICAgICBzb3J0U3RyOiB7IHByb3BlcnRpZXM6ICd0aGVPcmRlcicsIGRpcmVjdGlvbjogJ0FTQycgfSwgLy8g5o6S5bqP5pa55rOVDQogICAgICAgICAgdGl0bGU6IHsgbWFpblRpdGxlOiAn6KeS6Imy5YiX6KGoJyB9LA0KICAgICAgICAgIGRlZmF1bHREVEhQcm9wczogew0KICAgICAgICAgICAga2V5V29yZDogeyBlZGl0OiAnU3lzUm9sZScgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGVmYXVsdFNEUHJvcHM6IHsNCiAgICAgICAgICBrZXlXb3JkOiAnU3lzUm9sZScsDQogICAgICAgICAgZGVmYXVsdERCUHJvcHM6IHsNCiAgICAgICAgICAgIGRpYWxvZzoge30NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0sDQoNCiAgICAgIHRyZWVEYXRhOiBbXSwNCiAgICAgIGN1cnJlbnRDb2x1bW46ICcnLA0KICAgICAgcGFyZW50QXJyOiBbXSwNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgc2F2ZUxvYWRpbmc6IGZhbHNlDQogICAgfQ0KICB9LA0KDQogIHdhdGNoOiB7DQogICAgJ2N1cnJlbnRDb2x1bW4uaWQnKHZhbCkgew0KICAgICAgdGhpcy5pbml0RGF0YVRyZWUoKQ0KICAgIH0NCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgaW5pdERhdGFUcmVlKCkgew0KICAgICAgaWYgKHRoaXMuY3VycmVudENvbHVtbi5pZCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgICAgICBjb25zdCByZXNwID0gYXdhaXQgcm9sZUFQSS5nZXRSb2xlUGVybWlzc2lvbnModGhpcy5jdXJyZW50Q29sdW1uLmlkKQ0KICAgICAgICAgIHRoaXMudHJlZURhdGEgPSByZXNwLmRhdGENCiAgICAgICAgICB0aGlzLmluaXRBbGxOb2RlcygpDQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICAvLyDliJ3lp4vljJbmiYDmnInoioLngrnkv6Hmga8NCiAgICBpbml0QWxsTm9kZXMoKSB7DQogICAgICB0aGlzLnRyZWVEYXRhWzBdLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnID0gdHJ1ZQ0KICAgICAgdGhpcy50cmVlRGF0YVswXS5hdXRob3JpemF0aW9uSW5mby5hZGRGbGFnID0gdHJ1ZQ0KICAgICAgdGhpcy50cmVlRGF0YVswXS5hdXRob3JpemF0aW9uSW5mby5tb2RpZnlGbGFnID0gdHJ1ZQ0KICAgICAgdGhpcy50cmVlRGF0YVswXS5hdXRob3JpemF0aW9uSW5mby5kZWxldGVGbGFnID0gdHJ1ZQ0KICAgICAgdGhpcy50cmVlRGF0YVswXS5hdXRob3JpemF0aW9uQWxsRmxhZyA9IHRydWUNCiAgICAgIHRoaXMuaW5pdENhbGxGdW5jKHRoaXMudHJlZURhdGEsICdhdXRob3JpemF0aW9uQWxsRmxhZycpDQogICAgICB0aGlzLmluaXRDYWxsRnVuYyh0aGlzLnRyZWVEYXRhLCAndmlzaWJsZUZsYWcnKQ0KICAgICAgdGhpcy5pbml0Q2FsbEZ1bmModGhpcy50cmVlRGF0YSwgJ2FkZEZsYWcnKQ0KICAgICAgdGhpcy5pbml0Q2FsbEZ1bmModGhpcy50cmVlRGF0YSwgJ21vZGlmeUZsYWcnKQ0KICAgICAgdGhpcy5pbml0Q2FsbEZ1bmModGhpcy50cmVlRGF0YSwgJ2RlbGV0ZUZsYWcnKQ0KICAgIH0sDQogICAgLy8g5aKe5Yig5pS55p+l55qE6IGU5YqoDQogICAgaW5pdENhbGxGdW5jKHZhbCA9IHRoaXMudHJlZURhdGEsIHByb3ApIHsNCiAgICAgIGlmIChwcm9wID09PSAnYXV0aG9yaXphdGlvbkFsbEZsYWcnKSB7DQogICAgICAgIHZhbC5mb3JFYWNoKGUgPT4gew0KICAgICAgICAgIGlmIChlW3Byb3BdID09PSBmYWxzZSkgew0KICAgICAgICAgICAgcmV0dXJuICh0aGlzLnRyZWVEYXRhWzBdW3Byb3BdID0gZmFsc2UpDQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChlLmNoaWxkcmVuICYmIGUuY2hpbGRyZW4ubGVuZ3RoKSB7DQogICAgICAgICAgICB0aGlzLmluaXRDYWxsRnVuYyhlLmNoaWxkcmVuLCBwcm9wKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHZhbC5mb3JFYWNoKGUgPT4gew0KICAgICAgICAgIGlmIChlLmF1dGhvcml6YXRpb25JbmZvW3Byb3BdID09PSBmYWxzZSkgew0KICAgICAgICAgICAgcmV0dXJuICh0aGlzLnRyZWVEYXRhWzBdLmF1dGhvcml6YXRpb25JbmZvW3Byb3BdID0gZmFsc2UpDQogICAgICAgICAgfQ0KICAgICAgICAgIGlmIChlLmNoaWxkcmVuICYmIGUuY2hpbGRyZW4ubGVuZ3RoKSB7DQogICAgICAgICAgICB0aGlzLmluaXRDYWxsRnVuYyhlLmNoaWxkcmVuLCBwcm9wKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOWbnuiwg+W+queOr+WHveaVsA0KICAgIGFsbENhbGxGdW5jKHZhbCwgc3RhdHVzKSB7DQogICAgICBpZiAodmFsLmNoaWxkcmVuICYmIHZhbC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7DQogICAgICAgIHZhbC5jaGlsZHJlbi5mb3JFYWNoKGUgPT4gew0KICAgICAgICAgIGUuYXV0aG9yaXphdGlvbkFsbEZsYWcgPSBzdGF0dXMNCiAgICAgICAgICBlLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnID0gZS5hdXRob3JpemF0aW9uSW5mby5hZGRGbGFnID0gZS5hdXRob3JpemF0aW9uSW5mby5tb2RpZnlGbGFnID0gZS5hdXRob3JpemF0aW9uSW5mby5kZWxldGVGbGFnID0gc3RhdHVzDQogICAgICAgICAgdGhpcy5hbGxDYWxsRnVuYyhlLCBzdGF0dXMpDQogICAgICAgIH0pDQogICAgICB9DQogICAgICBjb25zdCBwaWRzID0gW10NCiAgICAgIHRoaXMuZ2V0UGFyZW50Tm9kZXModGhpcy50cmVlRGF0YSwgdmFsLmlkLCBwaWRzKQ0KICAgICAgdGhpcy5wYXJlbnROb2Rlc0NoYW5nZSh0aGlzLnRyZWVEYXRhLCBwaWRzLCB2YWwpDQogICAgfSwNCiAgICAvLyDljZXkuKrlm57osIPlh73mlbANCiAgICBzaW5nbGVDYWxsRnVuYyh2YWwsIHByb3ApIHsNCiAgICAgIGlmICh2YWwuY2hpbGRyZW4gJiYgdmFsLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdmFsLmNoaWxkcmVuLmZvckVhY2goZSA9PiB7DQogICAgICAgICAgcHJvcCA9PT0gJ3Zpc2libGVGbGFnJyA/IChlLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnID0gdmFsLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnKSA6ICcnDQogICAgICAgICAgcHJvcCA9PT0gJ2FkZEZsYWcnID8gKGUuYXV0aG9yaXphdGlvbkluZm8uYWRkRmxhZyA9IHZhbC5hdXRob3JpemF0aW9uSW5mby5hZGRGbGFnKSA6ICcnDQogICAgICAgICAgcHJvcCA9PT0gJ21vZGlmeUZsYWcnID8gKGUuYXV0aG9yaXphdGlvbkluZm8ubW9kaWZ5RmxhZyA9IHZhbC5hdXRob3JpemF0aW9uSW5mby5tb2RpZnlGbGFnKSA6ICcnDQogICAgICAgICAgcHJvcCA9PT0gJ2RlbGV0ZUZsYWcnID8gKGUuYXV0aG9yaXphdGlvbkluZm8uZGVsZXRlRmxhZyA9IHZhbC5hdXRob3JpemF0aW9uSW5mby5kZWxldGVGbGFnKSA6ICcnDQoNCiAgICAgICAgICAvLyDmm7TmlrDlhajpgIkt6Z2e5YWo6YCJ55qE5YaF5a65DQogICAgICAgICAgZS5hdXRob3JpemF0aW9uQWxsRmxhZyA9IGZhbHNlDQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgZS5hdXRob3JpemF0aW9uSW5mby52aXNpYmxlRmxhZyA9PT0gdHJ1ZSAmJiBlLmF1dGhvcml6YXRpb25JbmZvLmFkZEZsYWcgPT09IHRydWUgJiYNCiAgICAgICAgICAgIGUuYXV0aG9yaXphdGlvbkluZm8ubW9kaWZ5RmxhZyA9PT0gdHJ1ZSAmJiBlLmF1dGhvcml6YXRpb25JbmZvLmRlbGV0ZUZsYWcgPT09IHRydWUNCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIGUuYXV0aG9yaXphdGlvbkFsbEZsYWcgPSB0cnVlDQogICAgICAgICAgfSBlbHNlIGlmICgNCiAgICAgICAgICAgIHZhbC5hdXRob3JpemF0aW9uSW5mby52aXNpYmxlRmxhZyA9PT0gZmFsc2UgJiYgdmFsLmF1dGhvcml6YXRpb25JbmZvLmFkZEZsYWcgPT09IGZhbHNlICYmDQogICAgICAgICAgICB2YWwuYXV0aG9yaXphdGlvbkluZm8ubW9kaWZ5RmxhZyA9PT0gZmFsc2UgJiYgdmFsLmF1dGhvcml6YXRpb25JbmZvLmRlbGV0ZUZsYWcgPT09IGZhbHNlDQogICAgICAgICAgKSB7DQogICAgICAgICAgICBlLmF1dGhvcml6YXRpb25BbGxGbGFnID0gZmFsc2UNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5zaW5nbGVDYWxsRnVuYyhlLCBwcm9wKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgICAgY29uc3QgcGlkcyA9IFtdDQogICAgICB0aGlzLmdldFBhcmVudE5vZGVzKHRoaXMudHJlZURhdGEsIHZhbC5pZCwgcGlkcykNCiAgICAgIHRoaXMucGFyZW50Tm9kZXNDaGFuZ2UodGhpcy50cmVlRGF0YSwgcGlkcywgdmFsKQ0KICAgIH0sDQogICAgLy8g5b2T5YmN6KGM55qE5pS55Y+YDQogICAgdXBkYXRlQ29sdW1uKHZhbCkgew0KICAgICAgdGhpcy5jdXJyZW50Q29sdW1uID0gdmFsDQogICAgfSwNCiAgICAvLyDojrflj5bmr4/lsYLniLboioLngrnnmoToioLngrnmlbDnu4QNCiAgICBnZXRQYXJlbnROb2Rlcyh2YWwsIGlkLCBhcnIpIHsNCiAgICAgIHZhbC5mb3JFYWNoKGUgPT4gew0KICAgICAgICBpZiAoZS5pZCA9PT0gaWQpIHsNCiAgICAgICAgICBpZiAoZS5wYXJlbnRJZCkgew0KICAgICAgICAgICAgLy8g5o6S6Zmk6aG257qn6Jma6IqC54K5aWQ9LTENCiAgICAgICAgICAgIGFyci5wdXNoKGUucGFyZW50SWQpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuZ2V0UGFyZW50Tm9kZXModGhpcy50cmVlRGF0YSwgZS5wYXJlbnRJZCwgYXJyKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGlmIChlLmNoaWxkcmVuICYmIGUuY2hpbGRyZW4ubGVuZ3RoKSB7DQogICAgICAgICAgICB0aGlzLmdldFBhcmVudE5vZGVzKGUuY2hpbGRyZW4sIGlkLCBhcnIpDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgcGFyZW50Tm9kZXNDaGFuZ2UoYXJyLCBwaWRzLCB2YWwpIHsNCiAgICAgIGFyci5mb3JFYWNoKGUgPT4gew0KICAgICAgICBpZiAocGlkcy5pbmRleE9mKGUuaWQpID4gLTEpIHsNCiAgICAgICAgICB2YWwuYXV0aG9yaXphdGlvbkluZm8udmlzaWJsZUZsYWcgPyAoZS5hdXRob3JpemF0aW9uSW5mby52aXNpYmxlRmxhZyA9IHRydWUpIDogJycNCiAgICAgICAgICB2YWwuYXV0aG9yaXphdGlvbkluZm8uYWRkRmxhZyA/IChlLmF1dGhvcml6YXRpb25JbmZvLmFkZEZsYWcgPSB0cnVlKSA6ICcnDQogICAgICAgICAgdmFsLmF1dGhvcml6YXRpb25JbmZvLm1vZGlmeUZsYWcgPyAoZS5hdXRob3JpemF0aW9uSW5mby5tb2RpZnlGbGFnID0gdHJ1ZSkgOiAnJw0KICAgICAgICAgIHZhbC5hdXRob3JpemF0aW9uSW5mby5kZWxldGVGbGFnID8gKGUuYXV0aG9yaXphdGlvbkluZm8uZGVsZXRlRmxhZyA9IHRydWUpIDogJycNCiAgICAgICAgICBlLmF1dGhvcml6YXRpb25BbGxGbGFnID0gZmFsc2UNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICBlLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnID09PSB0cnVlICYmIGUuYXV0aG9yaXphdGlvbkluZm8uYWRkRmxhZyA9PT0gdHJ1ZSAmJg0KICAgICAgICAgICAgZS5hdXRob3JpemF0aW9uSW5mby5tb2RpZnlGbGFnID09PSB0cnVlICYmIGUuYXV0aG9yaXphdGlvbkluZm8uZGVsZXRlRmxhZyA9PT0gdHJ1ZQ0KICAgICAgICAgICkgew0KICAgICAgICAgICAgZS5hdXRob3JpemF0aW9uQWxsRmxhZyA9IHRydWUNCiAgICAgICAgICB9IGVsc2UgaWYgKA0KICAgICAgICAgICAgdmFsLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnID09PSBmYWxzZSAmJiB2YWwuYXV0aG9yaXphdGlvbkluZm8uYWRkRmxhZyA9PT0gZmFsc2UgJiYNCiAgICAgICAgICAgIHZhbC5hdXRob3JpemF0aW9uSW5mby5tb2RpZnlGbGFnID09PSBmYWxzZSAmJiB2YWwuYXV0aG9yaXphdGlvbkluZm8uZGVsZXRlRmxhZyA9PT0gZmFsc2UNCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIGUuYXV0aG9yaXphdGlvbkFsbEZsYWcgPSBmYWxzZQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoZS5jaGlsZHJlbiAmJiBlLmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICAgIHRoaXMucGFyZW50Tm9kZXNDaGFuZ2UoZS5jaGlsZHJlbiwgcGlkcywgdmFsKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy8g5qCR6IqC54K555qE6IGU5YqoDQogICAgcGFyZW50Tm9kZUNoYW5nZSh2YWwpIHsNCiAgICAgIGlmICh2YWwuY2hpbGRyZW4gJiYgdmFsLmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICB2YWwuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7DQogICAgICAgICAgaWYgKGNoaWxkLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnID09PSB0cnVlKSB7DQogICAgICAgICAgICByZXR1cm4gKHZhbC5hdXRob3JpemF0aW9uSW5mby52aXNpYmxlRmxhZyA9IHRydWUpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZUNoYW5nZShjaGlsZCkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICAvLyDlhajpgIkNCiAgICBoYW5kbGVDaGVja0FsbENoYW5nZSh2YWwsIHZhbDIpIHsNCiAgICAgIGlmICh2YWwyLmF1dGhvcml6YXRpb25BbGxGbGFnKSB7DQogICAgICAgIHZhbC52aXNpYmxlRmxhZyA9IHZhbC5hZGRGbGFnID0gdmFsLm1vZGlmeUZsYWcgPSB2YWwuZGVsZXRlRmxhZyA9IHRydWUNCiAgICAgICAgdGhpcy5hbGxDYWxsRnVuYyh2YWwyLCB0cnVlKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdmFsLnZpc2libGVGbGFnID0gdmFsLmFkZEZsYWcgPSB2YWwubW9kaWZ5RmxhZyA9IHZhbC5kZWxldGVGbGFnID0gZmFsc2UNCiAgICAgICAgdGhpcy5hbGxDYWxsRnVuYyh2YWwyLCBmYWxzZSkNCiAgICAgIH0NCiAgICAgIHRoaXMudHJlZURhdGFbMF0uYXV0aG9yaXphdGlvbkFsbEZsYWcgPSB0cnVlDQogICAgICB0aGlzLmluaXRBbGxOb2RlcygpDQogICAgfSwNCiAgICAvLyDmlLnlj5jljZXkuKrmoYbnmoTlj5jljJYNCiAgICBoYW5kbGVTaW5nbGVDaGFuZ2UodmFsLCB2YWwyLCBwcm9wKSB7DQogICAgICB2YWwyLnJvdy5hdXRob3JpemF0aW9uQWxsRmxhZyA9IGZhbHNlDQogICAgICBpZiAoDQogICAgICAgIHZhbC52aXNpYmxlRmxhZyA9PT0gdHJ1ZSAmJiB2YWwuYWRkRmxhZyA9PT0gdHJ1ZSAmJiB2YWwubW9kaWZ5RmxhZyA9PT0gdHJ1ZSAmJiB2YWwuZGVsZXRlRmxhZyA9PT0gdHJ1ZQ0KICAgICAgKSB7DQogICAgICAgIC8vIOS9v+eUqHNjb3BlLnJvd+ebtOaOpei1i+WAvOayoeacieaViOaenA0KICAgICAgICB2YWwyLnJvdy5hdXRob3JpemF0aW9uQWxsRmxhZyA9IHRydWUNCiAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgIHZhbC52aXNpYmxlRmxhZyA9PT0gZmFsc2UgJiYgdmFsLmFkZEZsYWcgPT09IGZhbHNlICYmIHZhbC5tb2RpZnlGbGFnID09PSBmYWxzZSAmJiB2YWwuZGVsZXRlRmxhZyA9PT0gZmFsc2UNCiAgICAgICkgew0KICAgICAgICB2YWwyLnJvdy5hdXRob3JpemF0aW9uQWxsRmxhZyA9IGZhbHNlDQogICAgICB9DQoNCiAgICAgIHRoaXMuc2luZ2xlQ2FsbEZ1bmModmFsMi5yb3csIHByb3ApDQogICAgICB0aGlzLnRyZWVEYXRhWzBdLmF1dGhvcml6YXRpb25BbGxGbGFnID0gdHJ1ZQ0KICAgICAgdGhpcy5pbml0QWxsTm9kZXMoKQ0KICAgIH0sDQoNCiAgICAvLyDkv53lrZjmnYPpmZANCiAgICBhc3luYyBzYXZlUm9sZU1lbnVzKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgdGhpcy5zYXZlTG9hZGluZyA9IHRydWUNCiAgICAgICAgYXdhaXQgcm9sZUFQSS5lZGl0Um9sZVBlcm1pc3Npb24odGhpcy5jdXJyZW50Q29sdW1uLmlkLCB0aGlzLnRyZWVEYXRhWzBdKQ0KICAgICAgICB0aGlzLnNhdmVMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjmiJDlip/vvIEnKQ0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgdGhpcy5zYXZlTG9hZGluZyA9IGZhbHNlDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Role.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Role.vue","sourceRoot":"src/views/system-manage","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"box-flex\">\r\n      <div style=\"width: 45%\">\r\n        <BaseList :default-props=\"defaultBLProps\" @update-column=\"updateColumn\" />\r\n      </div>\r\n      <!-- 列表右侧-->\r\n      <div style=\"width:53%; \">\r\n        <el-card shadow=\"never\">\r\n          <div slot=\"header\">\r\n            <span title=\"选择指定角色分配菜单\">角色授权 | <strong>{{ currentColumn.name || \"--\" }}</strong></span>\r\n            <el-button :disabled=\"!currentColumn\" :loading=\"saveLoading\" size=\"mini\" style=\"float: right;padding: 6px 9px;margin-top:-5px\" type=\"primary\" :title=\"currentColumn ? '' : '请在左边列表选择一个角色'\" @click=\"saveRoleMenus\">保存</el-button>\r\n          </div>\r\n          <el-table ref=\"dataTree\" v-adaptive=\"{ noPage: true }\" v-loading=\"loading\" :data=\"treeData\" height=\"100%\" row-key=\"id\" :expand-row-keys=\"['-1']\">\r\n            <el-table-column prop=\"name\" label=\"名称\" width=\"150\" :show-overflow-tooltip=\"true\" />\r\n            <el-table-column label=\"查询\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox v-model=\"scope.row.authorizationInfo.visibleFlag\" @change=\"handleSingleChange( scope.row.authorizationInfo, scope, 'visibleFlag' )\" />\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"添加\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox v-model=\"scope.row.authorizationInfo.addFlag\" @change=\"handleSingleChange(scope.row.authorizationInfo,scope,'addFlag' )\" />\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"修改\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox v-model=\"scope.row.authorizationInfo.modifyFlag\" @change=\"handleSingleChange( scope.row.authorizationInfo, scope, 'modifyFlag' )\" />\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"删除\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox v-model=\"scope.row.authorizationInfo.deleteFlag\" @change=\" handleSingleChange( scope.row.authorizationInfo, scope, 'deleteFlag' )\" />\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"全部\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox v-model=\"scope.row.authorizationAllFlag\" :indeterminate=\" (\r\n                  scope.row.authorizationInfo.visibleFlag | scope.row.authorizationInfo.addFlag ||scope.row.authorizationInfo.modifyFlag || scope.row.authorizationInfo.deleteFlag)\r\n                  && !scope.row.authorizationAllFlag\" @change=\"handleCheckAllChange(scope.row.authorizationInfo, scope.row)\" />\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport roleAPI from '@/api/role'\r\nimport BaseList from '@/views/master-page/BaseList'\r\nimport adaptive from '@/directive/el-table'\r\nexport default {\r\n  name: 'Role',\r\n  components: { BaseList },\r\n  directives: { adaptive },\r\n  data() {\r\n    return {\r\n      // title=\"角色列表\" :curd=\"curd\" :edit-key-words=\"editKeyWords\" :view-key-words=\"editKeyWords\"\r\n      defaultBLProps: {\r\n        defaultDTLProps: {\r\n          sortStr: { properties: 'theOrder', direction: 'ASC' }, // 排序方法\r\n          title: { mainTitle: '角色列表' },\r\n          defaultDTHProps: {\r\n            keyWord: { edit: 'SysRole' }\r\n          }\r\n        },\r\n        defaultSDProps: {\r\n          keyWord: 'SysRole',\r\n          defaultDBProps: {\r\n            dialog: {}\r\n          }\r\n        }\r\n      },\r\n\r\n      treeData: [],\r\n      currentColumn: '',\r\n      parentArr: [],\r\n      loading: false,\r\n      saveLoading: false\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    'currentColumn.id'(val) {\r\n      this.initDataTree()\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async initDataTree() {\r\n      if (this.currentColumn.id) {\r\n        try {\r\n          this.loading = true\r\n          const resp = await roleAPI.getRolePermissions(this.currentColumn.id)\r\n          this.treeData = resp.data\r\n          this.initAllNodes()\r\n          this.loading = false\r\n        } catch (error) {\r\n          this.loading = false\r\n        }\r\n      }\r\n    },\r\n    // 初始化所有节点信息\r\n    initAllNodes() {\r\n      this.treeData[0].authorizationInfo.visibleFlag = true\r\n      this.treeData[0].authorizationInfo.addFlag = true\r\n      this.treeData[0].authorizationInfo.modifyFlag = true\r\n      this.treeData[0].authorizationInfo.deleteFlag = true\r\n      this.treeData[0].authorizationAllFlag = true\r\n      this.initCallFunc(this.treeData, 'authorizationAllFlag')\r\n      this.initCallFunc(this.treeData, 'visibleFlag')\r\n      this.initCallFunc(this.treeData, 'addFlag')\r\n      this.initCallFunc(this.treeData, 'modifyFlag')\r\n      this.initCallFunc(this.treeData, 'deleteFlag')\r\n    },\r\n    // 增删改查的联动\r\n    initCallFunc(val = this.treeData, prop) {\r\n      if (prop === 'authorizationAllFlag') {\r\n        val.forEach(e => {\r\n          if (e[prop] === false) {\r\n            return (this.treeData[0][prop] = false)\r\n          }\r\n          if (e.children && e.children.length) {\r\n            this.initCallFunc(e.children, prop)\r\n          }\r\n        })\r\n      } else {\r\n        val.forEach(e => {\r\n          if (e.authorizationInfo[prop] === false) {\r\n            return (this.treeData[0].authorizationInfo[prop] = false)\r\n          }\r\n          if (e.children && e.children.length) {\r\n            this.initCallFunc(e.children, prop)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 回调循环函数\r\n    allCallFunc(val, status) {\r\n      if (val.children && val.children.length > 0) {\r\n        val.children.forEach(e => {\r\n          e.authorizationAllFlag = status\r\n          e.authorizationInfo.visibleFlag = e.authorizationInfo.addFlag = e.authorizationInfo.modifyFlag = e.authorizationInfo.deleteFlag = status\r\n          this.allCallFunc(e, status)\r\n        })\r\n      }\r\n      const pids = []\r\n      this.getParentNodes(this.treeData, val.id, pids)\r\n      this.parentNodesChange(this.treeData, pids, val)\r\n    },\r\n    // 单个回调函数\r\n    singleCallFunc(val, prop) {\r\n      if (val.children && val.children.length > 0) {\r\n        val.children.forEach(e => {\r\n          prop === 'visibleFlag' ? (e.authorizationInfo.visibleFlag = val.authorizationInfo.visibleFlag) : ''\r\n          prop === 'addFlag' ? (e.authorizationInfo.addFlag = val.authorizationInfo.addFlag) : ''\r\n          prop === 'modifyFlag' ? (e.authorizationInfo.modifyFlag = val.authorizationInfo.modifyFlag) : ''\r\n          prop === 'deleteFlag' ? (e.authorizationInfo.deleteFlag = val.authorizationInfo.deleteFlag) : ''\r\n\r\n          // 更新全选-非全选的内容\r\n          e.authorizationAllFlag = false\r\n          if (\r\n            e.authorizationInfo.visibleFlag === true && e.authorizationInfo.addFlag === true &&\r\n            e.authorizationInfo.modifyFlag === true && e.authorizationInfo.deleteFlag === true\r\n          ) {\r\n            e.authorizationAllFlag = true\r\n          } else if (\r\n            val.authorizationInfo.visibleFlag === false && val.authorizationInfo.addFlag === false &&\r\n            val.authorizationInfo.modifyFlag === false && val.authorizationInfo.deleteFlag === false\r\n          ) {\r\n            e.authorizationAllFlag = false\r\n          }\r\n          this.singleCallFunc(e, prop)\r\n        })\r\n      }\r\n      const pids = []\r\n      this.getParentNodes(this.treeData, val.id, pids)\r\n      this.parentNodesChange(this.treeData, pids, val)\r\n    },\r\n    // 当前行的改变\r\n    updateColumn(val) {\r\n      this.currentColumn = val\r\n    },\r\n    // 获取每层父节点的节点数组\r\n    getParentNodes(val, id, arr) {\r\n      val.forEach(e => {\r\n        if (e.id === id) {\r\n          if (e.parentId) {\r\n            // 排除顶级虚节点id=-1\r\n            arr.push(e.parentId)\r\n          }\r\n          this.getParentNodes(this.treeData, e.parentId, arr)\r\n        } else {\r\n          if (e.children && e.children.length) {\r\n            this.getParentNodes(e.children, id, arr)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    parentNodesChange(arr, pids, val) {\r\n      arr.forEach(e => {\r\n        if (pids.indexOf(e.id) > -1) {\r\n          val.authorizationInfo.visibleFlag ? (e.authorizationInfo.visibleFlag = true) : ''\r\n          val.authorizationInfo.addFlag ? (e.authorizationInfo.addFlag = true) : ''\r\n          val.authorizationInfo.modifyFlag ? (e.authorizationInfo.modifyFlag = true) : ''\r\n          val.authorizationInfo.deleteFlag ? (e.authorizationInfo.deleteFlag = true) : ''\r\n          e.authorizationAllFlag = false\r\n          if (\r\n            e.authorizationInfo.visibleFlag === true && e.authorizationInfo.addFlag === true &&\r\n            e.authorizationInfo.modifyFlag === true && e.authorizationInfo.deleteFlag === true\r\n          ) {\r\n            e.authorizationAllFlag = true\r\n          } else if (\r\n            val.authorizationInfo.visibleFlag === false && val.authorizationInfo.addFlag === false &&\r\n            val.authorizationInfo.modifyFlag === false && val.authorizationInfo.deleteFlag === false\r\n          ) {\r\n            e.authorizationAllFlag = false\r\n          }\r\n        }\r\n        if (e.children && e.children.length) {\r\n          this.parentNodesChange(e.children, pids, val)\r\n        }\r\n      })\r\n    },\r\n    // 树节点的联动\r\n    parentNodeChange(val) {\r\n      if (val.children && val.children.length) {\r\n        val.children.forEach(child => {\r\n          if (child.authorizationInfo.visibleFlag === true) {\r\n            return (val.authorizationInfo.visibleFlag = true)\r\n          } else {\r\n            this.parentNodeChange(child)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 全选\r\n    handleCheckAllChange(val, val2) {\r\n      if (val2.authorizationAllFlag) {\r\n        val.visibleFlag = val.addFlag = val.modifyFlag = val.deleteFlag = true\r\n        this.allCallFunc(val2, true)\r\n      } else {\r\n        val.visibleFlag = val.addFlag = val.modifyFlag = val.deleteFlag = false\r\n        this.allCallFunc(val2, false)\r\n      }\r\n      this.treeData[0].authorizationAllFlag = true\r\n      this.initAllNodes()\r\n    },\r\n    // 改变单个框的变化\r\n    handleSingleChange(val, val2, prop) {\r\n      val2.row.authorizationAllFlag = false\r\n      if (\r\n        val.visibleFlag === true && val.addFlag === true && val.modifyFlag === true && val.deleteFlag === true\r\n      ) {\r\n        // 使用scope.row直接赋值没有效果\r\n        val2.row.authorizationAllFlag = true\r\n      } else if (\r\n        val.visibleFlag === false && val.addFlag === false && val.modifyFlag === false && val.deleteFlag === false\r\n      ) {\r\n        val2.row.authorizationAllFlag = false\r\n      }\r\n\r\n      this.singleCallFunc(val2.row, prop)\r\n      this.treeData[0].authorizationAllFlag = true\r\n      this.initAllNodes()\r\n    },\r\n\r\n    // 保存权限\r\n    async saveRoleMenus() {\r\n      try {\r\n        this.saveLoading = true\r\n        await roleAPI.editRolePermission(this.currentColumn.id, this.treeData[0])\r\n        this.saveLoading = false\r\n        this.$message.success('保存成功！')\r\n      } catch (error) {\r\n        this.saveLoading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n::v-deep .el-card__body {\r\n  padding: 0;\r\n}\r\n.box-flex {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n</style>\r\n"]}]}