{"remainingRequest":"D:\\software\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\front\\front\\src\\views\\master-page\\BaseTableTree.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\front\\front\\src\\views\\master-page\\BaseTableTree.vue","mtime":1715830118044},{"path":"D:\\software\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715830111371},{"path":"D:\\software\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1715830110683},{"path":"D:\\software\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1715830111371},{"path":"D:\\software\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1715830117510}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGF0YVRhYmxlVHJlZSBmcm9tICdAL2NvbXBvbmVudHMvRGF0YVRhYmxlVHJlZScNCmltcG9ydCBTaW1wbGVEaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL1NpbXBsZURpYWxvZycNCmltcG9ydCB7IHJlc2V0Rm9ybSB9IGZyb20gJ0AvdXRpbHMvY29tbW9uJw0KaW1wb3J0IF8gZnJvbSAnbG9kYXNoJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsgRGF0YVRhYmxlVHJlZSwgU2ltcGxlRGlhbG9nIH0sDQogIHByb3BzOiB7DQogICAgZGVmYXVsdFByb3BzOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiAoKSA9PiB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAga2V5V29yZDogeyB9LA0KICAgICAgICAgIGRlZmF1bHREVFRQcm9wczogew0KICAgICAgICAgICAgdGl0bGU6IHt9LA0KICAgICAgICAgICAgZGVmYXVsdERUSFByb3BzOiB7DQogICAgICAgICAgICAgIHRhYmxlQ29sdW1uczogeyB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfSwNCiAgICAgICAgICBkZWZhdWx0U0RQcm9wczogew0KICAgICAgICAgICAgZm9ybUl0ZW1zOiBbXSwNCiAgICAgICAgICAgIGZvcm1SdWxlczoge30sDQogICAgICAgICAgICBkZWZhdWx0REJQcm9wczogew0KICAgICAgICAgICAgICBkaWFsb2c6IHsgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZGVmYXVsdERUVFByb3BzOiB7DQogICAgICB9LA0KICAgICAgZGVmYXVsdFNEUHJvcHM6IHsNCiAgICAgICAgZm9ybUl0ZW1zOiBbDQogICAgICAgICAgeyBuYW1lOiAn5a6M5pW05ZCN56ewJywgZmllbGQ6ICdhbGxOb2RlTmFtZXMnLCB0eXBlOiAnaW5wdXQnLCBkaXNhYmxlZDogdHJ1ZSB9LA0KICAgICAgICAgIHsgbmFtZTogJ+e8lueggScsIGZpZWxkOiAnY29kZScsIHR5cGU6ICdpbnB1dCcgfSwNCiAgICAgICAgICB7IG5hbWU6ICflkI3np7AnLCBmaWVsZDogJ25hbWUnLCB0eXBlOiAnaW5wdXQnIH0sDQogICAgICAgICAgeyBuYW1lOiAn5aSH5rOoJywgZmllbGQ6ICdyZW1hcmtzJywgdHlwZTogJ3RleHRhcmVhJyB9DQogICAgICAgIF0sDQogICAgICAgIGZvcm1SdWxlczogeyBuYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+WQjeensOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9XSB9LA0KICAgICAgICBkZWZhdWx0REJQcm9wczogew0KICAgICAgICAgIGRpYWxvZzogeyB9DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBmb3JtOiB7fSwNCiAgICAgIGtleVdvcmQ6IHt9LA0KICAgICAgdGhpc0V2ZW50czogJycNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmRlZmF1bHRQcm9wcywgJ2RlZmF1bHRTRFByb3BzJykpIHsNCiAgICAgIHRoaXMuZGlhbG9nID0gdGhpcy5kZWZhdWx0UHJvcHMuZGVmYXVsdFNEUHJvcHMuZGVmYXVsdERCUHJvcHMuZGlhbG9nIC8vIOWFs+iBlGRpYWxvZw0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnRoaXNFdmVudHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuX2V2ZW50cykpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyB1cGRhdGVEYXRhVHJlZShyb3cpIHsNCiAgICAgIHRoaXMuJHJlZnMuRGF0YVRhYmxlVHJlZS51cGRhdGVQYXJ0VHJlZShyb3cpDQogICAgfSwNCiAgICBfYXBwZW5kQ2xpY2soZGF0YSkgew0KICAgICAgdGhpcy5mb3JtLmFsbE5vZGVOYW1lcyA9IGRhdGEgPyBkYXRhLmFsbE5vZGVOYW1lcyA6ICflhajpg6gnDQogICAgICB0aGlzLmZvcm0ucGFyZW50SWQgPSBkYXRhID8gZGF0YS5pZCA6IC0xDQogICAgICB0aGlzLmZvcm0uaXNMZWFmID0gdHJ1ZQ0KICAgICAgdGhpcy5mb3JtLmNoaWxkTnVtID0gMA0KICAgICAgdGhpcy4kcmVmcy5zaW1wbGVEaWFsb2cuc2hvd0RpYWxvZyh0cnVlLCB0aGlzLmZvcm0pDQogICAgfSwNCiAgICBhcHBlbmRDbGljayhkYXRhKSB7DQogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudGhpc0V2ZW50cywgJ2FwcGVuZC1jbGljaycpKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ2FwcGVuZC1jbGljaycsIGRhdGEpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmZvcm0gPSByZXNldEZvcm0odGhpcy5mb3JtKQ0KICAgICAgICB0aGlzLl9hcHBlbmRDbGljayhkYXRhKQ0KICAgICAgfQ0KICAgIH0sDQogICAgZWRpdENsaWNrKGRhdGEpIHsNCiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy50aGlzRXZlbnRzLCAnZWRpdC1jbGljaycpKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ2VkaXQtY2xpY2snLCBkYXRhKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5mb3JtID0gXy5jbG9uZURlZXAoZGF0YSkNCiAgICAgICAgdGhpcy4kcmVmcy5zaW1wbGVEaWFsb2cuc2hvd0RpYWxvZyh0cnVlLCB0aGlzLmZvcm0pDQogICAgICB9DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["BaseTableTree.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaseTableTree.vue","sourceRoot":"src/views/master-page","sourcesContent":["<template>\r\n  <div>\r\n    <!-- :search-key=\"searchKey\"  -->\r\n    <DataTableTree ref=\"DataTableTree\" :default-props=\"defaultProps.defaultDTTProps\" @edit-click=\"editClick\" @append-click=\"appendClick\" />\r\n    <slot name=\"dlg\">\r\n      <!-- 简单窗口 -->\r\n      <SimpleDialog ref=\"simpleDialog\" :default-props=\"defaultProps.defaultSDProps\" @update-record=\"updateDataTree\" />\r\n    </slot>\r\n  </div>\r\n</template>\r\n<script>\r\nimport DataTableTree from '@/components/DataTableTree'\r\nimport SimpleDialog from '@/components/SimpleDialog'\r\nimport { resetForm } from '@/utils/common'\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n  components: { DataTableTree, SimpleDialog },\r\n  props: {\r\n    defaultProps: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          keyWord: { },\r\n          defaultDTTProps: {\r\n            title: {},\r\n            defaultDTHProps: {\r\n              tableColumns: { }\r\n            }\r\n          },\r\n          defaultSDProps: {\r\n            formItems: [],\r\n            formRules: {},\r\n            defaultDBProps: {\r\n              dialog: { }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      defaultDTTProps: {\r\n      },\r\n      defaultSDProps: {\r\n        formItems: [\r\n          { name: '完整名称', field: 'allNodeNames', type: 'input', disabled: true },\r\n          { name: '编码', field: 'code', type: 'input' },\r\n          { name: '名称', field: 'name', type: 'input' },\r\n          { name: '备注', field: 'remarks', type: 'textarea' }\r\n        ],\r\n        formRules: { name: [{ required: true, message: '名称不能为空', trigger: 'blur' }] },\r\n        defaultDBProps: {\r\n          dialog: { }\r\n        }\r\n      },\r\n      form: {},\r\n      keyWord: {},\r\n      thisEvents: ''\r\n    }\r\n  },\r\n  created() {\r\n    if (Object.prototype.hasOwnProperty.call(this.defaultProps, 'defaultSDProps')) {\r\n      this.dialog = this.defaultProps.defaultSDProps.defaultDBProps.dialog // 关联dialog\r\n    }\r\n  },\r\n  mounted() {\r\n    this.thisEvents = JSON.parse(JSON.stringify(this._events))\r\n  },\r\n  methods: {\r\n    async updateDataTree(row) {\r\n      this.$refs.DataTableTree.updatePartTree(row)\r\n    },\r\n    _appendClick(data) {\r\n      this.form.allNodeNames = data ? data.allNodeNames : '全部'\r\n      this.form.parentId = data ? data.id : -1\r\n      this.form.isLeaf = true\r\n      this.form.childNum = 0\r\n      this.$refs.simpleDialog.showDialog(true, this.form)\r\n    },\r\n    appendClick(data) {\r\n      if (Object.prototype.hasOwnProperty.call(this.thisEvents, 'append-click')) {\r\n        this.$emit('append-click', data)\r\n      } else {\r\n        this.form = resetForm(this.form)\r\n        this._appendClick(data)\r\n      }\r\n    },\r\n    editClick(data) {\r\n      if (Object.prototype.hasOwnProperty.call(this.thisEvents, 'edit-click')) {\r\n        this.$emit('edit-click', data)\r\n      } else {\r\n        this.form = _.cloneDeep(data)\r\n        this.$refs.simpleDialog.showDialog(true, this.form)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n"]}]}