{"remainingRequest":"D:\\software\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\software\\front\\src\\components\\DataTableList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\software\\front\\src\\components\\DataTableList.vue","mtime":1682601378997},{"path":"D:\\software\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\software\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\software\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBEYXRhVGFibGVIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL0RhdGFUYWJsZUhlYWRlcicNCmltcG9ydCBsaXN0QVBJIGZyb20gJ0AvYXBpL2xpc3QnDQppbXBvcnQgQnRuU2VhcmNoIGZyb20gJ0AvY29tcG9uZW50cy9CdG5TZWFyY2gnDQoNCmltcG9ydCBWUGFnZSBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbicNCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50Jw0KaW1wb3J0IGFkYXB0aXZlIGZyb20gJ0AvZGlyZWN0aXZlL2VsLXRhYmxlJw0KaW1wb3J0IENPTlNUQU5UIGZyb20gJ0AvY29uc3RhbnQnDQppbXBvcnQgXyBmcm9tICdsb2Rhc2gnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdEYXRhVGFibGVMaXN0JywNCiAgY29tcG9uZW50czogeyBWUGFnZSwgRGF0YVRhYmxlSGVhZGVyLCBCdG5TZWFyY2ggfSwNCiAgZGlyZWN0aXZlczogeyBhZGFwdGl2ZSB9LA0KICBmaWx0ZXJzOiB7DQogICAgZmlsdGVyRGF0ZVRpbWUodmFsKSB7DQogICAgICBpZiAoIXZhbCkgew0KICAgICAgICByZXR1cm4gJy0tJw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIG1vbWVudCh2YWwpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpDQogICAgICB9DQogICAgfSwNCiAgICBmaWx0ZXJJc0F1ZGl0KHZhbCkgeyAvLyDov5nkuKrlnLDmlrnlh7rnjrDnmoRjb25zdGFudO+8jOmcgOimgeWcqOacrOaWh+S7tuWktOmDqGltcG9ydCBjb25zdGFudO+8jOS4jeefpemBk+WOn+WboA0KICAgICAgc3dpdGNoICh2YWwpIHsNCiAgICAgICAgY2FzZSBDT05TVEFOVC5BVURJVF9TVEFUVVMuU1VCTUlUOiByZXR1cm4gQ09OU1RBTlQuQVVESVRfU1RBVFVTLlNVQk1JVE5BTUUNCiAgICAgICAgY2FzZSBDT05TVEFOVC5BVURJVF9TVEFUVVMuUEFTUzogcmV0dXJuIENPTlNUQU5ULkFVRElUX1NUQVRVUy5QQVNTTkFNRQ0KICAgICAgICBjYXNlIENPTlNUQU5ULkFVRElUX1NUQVRVUy5OT1RQQVNTOiByZXR1cm4gQ09OU1RBTlQuQVVESVRfU1RBVFVTLk5PVFBBU1NOQU1FDQogICAgICAgIGNhc2UgQ09OU1RBTlQuQVVESVRfU1RBVFVTLkJBQ0s6IHJldHVybiBDT05TVEFOVC5BVURJVF9TVEFUVVMuQkFDS05BTUUNCiAgICAgICAgZGVmYXVsdDogcmV0dXJuIENPTlNUQU5ULkFVRElUX1NUQVRVUy5TQVZFTkFNRQ0KICAgICAgfQ0KICAgIH0sDQogICAgZmlsdGVyVGVhbVN0YXR1cyh2YWwpIHsNCiAgICAgIHN3aXRjaCAodmFsKSB7DQogICAgICAgIGNhc2UgMTogcmV0dXJuICfmoKHotZsnDQogICAgICAgIGNhc2UgMjogcmV0dXJuICfnnIHotZvliJ3otZsnDQogICAgICAgIGNhc2UgMzogcmV0dXJuICfnnIHotZvlhrPotZsnDQogICAgICB9DQogICAgfSwNCiAgICBmaWx0ZXJQdWJsaXNoU3RhdHVzKHZhbCkgew0KICAgICAgc3dpdGNoICh2YWwpIHsNCiAgICAgICAgY2FzZSBmYWxzZTogcmV0dXJuICfmnKrlj5HluIMnDQogICAgICAgIGNhc2UgdHJ1ZTogcmV0dXJuICflt7Llj5HluIMnDQogICAgICB9DQogICAgfQ0KICB9LA0KICBwcm9wczogew0KICAgIGRlZmF1bHRQcm9wczogeyAvLyDms6jmhI/ov5nph4znmoTpu5jorqTlgLzmsqHmnInnlKjvvIzlv4XpobvlnKhjcmVhdGXkuK3lho3orr7nva4NCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBrZXlXb3JkOiB7IH0sDQogICAgICAgICAgdGl0bGU6IHsgbWFpblRpbGU6ICcnLCBzdWJUaXRsZTogJycgfSwNCiAgICAgICAgICBib3R0b21PZmZzZXQ6IDAsDQogICAgICAgICAgc29ydFN0cjogeyBwcm9wZXJ0aWVzOiAnSWQnLCBkaXJlY3Rpb246ICdERVNDJyB9LCAvLyDmjpLluo/mlrnms5UNCiAgICAgICAgICB0cmVlSW5mbzogeyB9LA0KICAgICAgICAgIHNvbWVGbGFnczogew0KICAgICAgICAgICAgb3BlcmF0ZVNob3c6IHRydWUsIC8vIOacgOWPs+i+ueeahOaMiemSruaTjeS9nOmdouadv+aYr+WQpuWHuueOsA0KICAgICAgICAgICAgY2hlY2tGbGFnOiB0cnVlLCAvLyDmmK/lkKblh7rnjrDmnIDlt6bovrnnmoRjaGVja0JveA0KICAgICAgICAgICAgc2hvd1BhZ2U6IHRydWUsIC8vIOaYr+WQpuaYvuekuuW6lemDqOe/u+mhtQ0KICAgICAgICAgICAgYXV0b0luaXQ6IHRydWUgLy8g5Yid5aeL5pe25piv5ZCm5pi+56S65pWw5o2uDQogICAgICAgICAgfSwNCiAgICAgICAgICBpbml0U2VhcmNoV29yZHM6IHsgLy8g5Yid5aeL5pe25p+l6K+i55qE5LiJ5Liq5YWz6ZSu6K+NDQogICAgICAgICAgICBzZWFyY2hLZXk6IHsgfSwNCiAgICAgICAgICAgIHJlZ0tleTogeyB9LA0KICAgICAgICAgICAgYW5kb3I6IHsgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgbm93U2VhcmNoV29yZHM6IHsgLy8g5Y+Y5YyW5p+l6K+i55qE5LiJ5Liq5YWz6ZSu6K+NDQogICAgICAgICAgICBzZWFyY2hLZXk6IHsgfSwNCiAgICAgICAgICAgIHJlZ0tleTogeyB9LA0KICAgICAgICAgICAgYW5kb3I6IHsgfQ0KICAgICAgICAgIH0sDQogICAgICAgICAgbW92ZVNlYXJjaFdvcmRzOiB7IC8vIOeUqOS6juS4iuenu+S4i+enu+aXtuWAmeeahOafpeivouWtlw0KICAgICAgICAgICAgbW92ZVNlYXJjaEtleTogeyB9LA0KICAgICAgICAgICAgbW92ZVJlZ0tleTogeyB9DQogICAgICAgICAgfSwNCiAgICAgICAgICBzZWFyY2hQYW5lbDogew0KICAgICAgICAgICAgbmFtZTogJycsDQogICAgICAgICAgICBwbGFjZWhvbGRlcjogJycNCiAgICAgICAgICB9LA0KICAgICAgICAgIGRlZmF1bHREVEhQcm9wczogew0KICAgICAgICAgICAgLy8gZGVmYXVsdERUSFByb3Bz5Lit55qE5omA5pyJ5a+56LGh5bGe5oCnDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB1c2VkU2VhcmNoV29yZHM6IHsgLy8g5pyA57uI5L2/55So5p+l6K+i55qE5LiJ5Liq5YWz6ZSu6K+NDQogICAgICAgIHNlYXJjaEtleTogeyB9LA0KICAgICAgICByZWdLZXk6IHsgfSwNCiAgICAgICAgYW5kb3I6IHsgfQ0KICAgICAgfSwNCiAgICAgIHNlbGVjdGVkQ29sdW1uczogW10sDQogICAgICAvLyBsb2FkaW5nOiB0cnVlLA0KICAgICAgLy8gbGF5b3V0OiAndG90YWwsIHNpemVzLCBwcmV2LCBwYWdlciwgbmV4dCwganVtcGVyJywNCiAgICAgIGRhdGFMaXN0OiBbXSwNCiAgICAgIHBhZ2VJbmZvOiB7IHBhZ2U6IDEsIHNpemU6IDI1IH0sDQogICAgICB0b3RhbFNpemU6IDAsDQogICAgICB0YWJsZUNvbHVtbkl0ZW06IFtdLA0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICBidXR0b25Mb2FkaW5nOiB7IHVwOiBmYWxzZSwgZG93bjogZmFsc2UgfSwNCiAgICAgIHRhYmxlUmFkaW86IG51bGwsDQogICAgICAvLyDliJfooajkuK3nmoTlrZfkvZPpopzoibINCiAgICAgIHJlZEFycjogW10sDQogICAgICBncmVlbkFycjogW10sDQogICAgICBibHVlQXJyOiBbXSwNCiAgICAgIHllbGxvd0FycjogW10sDQoNCiAgICAgIG9wZXJhdGVXaWR0aDogNjAsDQogICAgICB0aGlzRXZlbnRzOiAnJywNCiAgICAgIGlzUGFnZUluaXQ6IGZhbHNlDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGtleVdvcmQoKSB7DQogICAgICByZXR1cm4gdGhpcy4kcmVmcy5kYXRhVEJMTW90aGVyLmtleVdvcmQNCiAgICB9LA0KICAgIHRpdGxlKCkgew0KICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByb3BzLnRpdGxlID8gdGhpcy5kZWZhdWx0UHJvcHMudGl0bGUgOiBudWxsDQogICAgfSwNCiAgICBidXR0b24oKSB7DQogICAgICByZXR1cm4gdGhpcy4kcmVmcy5kYXRhVEJMTW90aGVyLmJ1dHRvbg0KICAgIH0sDQogICAgb3BlcmF0ZVNob3coKSB7DQogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZGVmYXVsdFByb3BzLCAnc29tZUZsYWdzJykpIHsNCiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmRlZmF1bHRQcm9wcy5zb21lRmxhZ3MsICdvcGVyYXRlU2hvdycpKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByb3BzLnNvbWVGbGFncy5vcGVyYXRlU2hvdw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZQ0KICAgIH0sDQogICAgY2hlY2tGbGFnKCkgew0KICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmRlZmF1bHRQcm9wcywgJ3NvbWVGbGFncycpKSB7DQogICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5kZWZhdWx0UHJvcHMuc29tZUZsYWdzLCAnY2hlY2tGbGFnJykpIHsNCiAgICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0UHJvcHMuc29tZUZsYWdzLmNoZWNrRmxhZw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZQ0KICAgIH0sDQogICAgbm9BZHZhbmNlZFNlYXJjaCgpIHsNCiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5kZWZhdWx0UHJvcHMsICdzb21lRmxhZ3MnKSkgew0KICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZGVmYXVsdFByb3BzLnNvbWVGbGFncywgJ25vQWR2YW5jZWRTZWFyY2gnKSkgew0KICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRQcm9wcy5zb21lRmxhZ3Mubm9BZHZhbmNlZFNlYXJjaA0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZQ0KICAgIH0sDQogICAgc2hvd1BhZ2UoKSB7DQogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZGVmYXVsdFByb3BzLCAnc29tZUZsYWdzJykpIHsNCiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmRlZmF1bHRQcm9wcy5zb21lRmxhZ3MsICdzaG93UGFnZScpKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByb3BzLnNvbWVGbGFncy5zaG93UGFnZQ0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZQ0KICAgIH0sDQogICAgYXV0b0luaXQoKSB7DQogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZGVmYXVsdFByb3BzLCAnc29tZUZsYWdzJykpIHsNCiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmRlZmF1bHRQcm9wcy5zb21lRmxhZ3MsICdhdXRvSW5pdCcpKSB7DQogICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByb3BzLnNvbWVGbGFncy5hdXRvSW5pdA0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZQ0KICAgIH0sDQogICAgYm90dG9tT2Zmc2V0OiB7DQogICAgICBnZXQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0UHJvcHMuYm90dG9tT2Zmc2V0ID8gdGhpcy5kZWZhdWx0UHJvcHMuYm90dG9tT2Zmc2V0IDogMA0KICAgICAgfSwNCiAgICAgIHNldDogZnVuY3Rpb24oKSB7DQogICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCkNCiAgICAgIH0NCiAgICB9LA0KICAgIHNlYXJjaEl0ZW1zKCkgew0KICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByb3BzLnNlYXJjaEl0ZW1zID8gdGhpcy5kZWZhdWx0UHJvcHMuc2VhcmNoSXRlbXMgOiBbXQ0KICAgIH0sDQogICAgc29ydFN0cigpIHsNCiAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRQcm9wcy5zb3J0U3RyID8gdGhpcy5kZWZhdWx0UHJvcHMuc29ydFN0ciA6IHsgcHJvcGVydGllczogJ0lkJywgZGlyZWN0aW9uOiAnREVTQycgfQ0KICAgIH0sDQogICAgaW5pdFNlYXJjaFdvcmRzKCkgew0KICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByb3BzLmluaXRTZWFyY2hXb3JkcyA/IHRoaXMuZGVmYXVsdFByb3BzLmluaXRTZWFyY2hXb3JkcyA6IHsgfQ0KICAgIH0sDQogICAgbm93U2VhcmNoV29yZHM6IHsNCiAgICAgIGdldCgpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByb3BzLm5vd1NlYXJjaFdvcmRzID8gdGhpcy5kZWZhdWx0UHJvcHMubm93U2VhcmNoV29yZHMgOiB7IH0NCiAgICAgIH0sDQogICAgICBzZXQodmFsKSB7DQoNCiAgICAgIH0NCiAgICB9LA0KICAgIG1vdmVTZWFyY2hXb3JkcygpIHsNCiAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRQcm9wcy5tb3ZlU2VhcmNoV29yZHMgPyB0aGlzLmRlZmF1bHRQcm9wcy5tb3ZlU2VhcmNoV29yZHMgOiB7IH0NCiAgICB9LA0KICAgIHRyZWVJbmZvKCkgew0KICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByb3BzLnRyZWVJbmZvID8gdGhpcy5kZWZhdWx0UHJvcHMudHJlZUluZm8gOiB7fQ0KICAgIH0sDQogICAgc2VhcmNoTmFtZSgpIHsNCiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5kZWZhdWx0UHJvcHMsICdzZWFyY2hQYW5lbCcpKSB7DQogICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRQcm9wcy5zZWFyY2hQYW5lbC5uYW1lID8gdGhpcy5kZWZhdWx0UHJvcHMuc2VhcmNoUGFuZWwubmFtZSA6ICcnDQogICAgICB9DQogICAgICByZXR1cm4gJycNCiAgICB9LA0KICAgIHNlYXJjaFBsYWNlaG9sZGVyKCkgew0KICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmRlZmF1bHRQcm9wcywgJ3NlYXJjaFBhbmVsJykpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByb3BzLnNlYXJjaFBhbmVsLnBsYWNlaG9sZGVyID8gdGhpcy5kZWZhdWx0UHJvcHMuc2VhcmNoUGFuZWwucGxhY2Vob2xkZXIgOiAn6K+36L6T5YWl5ZCN56ewJw0KICAgICAgfQ0KICAgICAgcmV0dXJuICfor7fovpPlhaXlkI3np7AnDQogICAgfQ0KICAgIC8vIHZhcmlhYmxlcygpIHsNCiAgICAvLyAgIHJldHVybiB2YXJpYWJsZXMNCiAgICAvLyB9LA0KICAgIC8vIGNvbG9ycygpIHsNCiAgICAvLyAgIHJldHVybiBlVmFyaWFibGVzDQogICAgLy8gfQ0KICB9LA0KICB3YXRjaDogew0KICAgIGF1dG9Jbml0OiB7DQogICAgICBoYW5kbGVyKHZhbCkgew0KICAgICAgICBpZiAodmFsKSB7DQogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuaW5pdERhdGFMaXN0KCkgfSwgNTAwKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBub3dTZWFyY2hXb3Jkczogew0KICAgICAgaGFuZGxlcih2YWwpIHsNCiAgICAgICAgaWYgKHRoaXMuYXV0b0luaXQpIHsNCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5pbml0RGF0YUxpc3QoKSB9LCA1MDApDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlLA0KICAgICAgaW1tZWRpYXRlOiB0cnVlDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMudGhpc0V2ZW50cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5fZXZlbnRzKSkNCiAgICB2YXIgYnRuID0gdGhpcy4kcmVmcy5kYXRhVEJMTW90aGVyLmJ1dHRvbg0KICAgIGxldCBudW0gPSAwDQogICAgY29uc3QgYXJyID0gWw0KICAgICAgYnRuLnZpc2libGUuc2hvdywNCiAgICAgIGJ0bi5kZWxldGUuc2hvdywNCiAgICAgIGJ0bi51cGRhdGUuc2hvdywNCiAgICAgIGJ0bi51cC5zaG93LA0KICAgICAgYnRuLmRvd24uc2hvdywNCiAgICAgIGJ0bi5hdWRpdC5zaG93DQogICAgXQ0KICAgIG51bSA9IGFyci5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7DQogICAgICBhY2MgPSBjdXIgPyBhY2MgKyAxIDogYWNjDQogICAgICByZXR1cm4gYWNjDQogICAgfSwgMCkNCg0KICAgIHZhciB3aWR0aCA9IG51bSAqIDQ2DQogICAgaWYgKHdpZHRoIDwgNjApIHsNCiAgICAgIHdpZHRoID0gNjANCiAgICB9DQogICAgdGhpcy5vcGVyYXRlV2lkdGggPSB3aWR0aA0KDQogICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuaW5pdERhdGFMaXN0KCkgfSwgNTAwKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8gI3JlZ2lvbiBpbml0RGF0YUxpc3QNCiAgICBnZXRVc2VkU2VhcmNoV29yZHMoKSB7DQogICAgICB0aGlzLiRzZXQodGhpcy51c2VkU2VhcmNoV29yZHMsICdzZWFyY2hLZXknLCB7fSkNCiAgICAgIHRoaXMuJHNldCh0aGlzLnVzZWRTZWFyY2hXb3JkcywgJ3JlZ0tleScsIHt9KQ0KICAgICAgdGhpcy4kc2V0KHRoaXMudXNlZFNlYXJjaFdvcmRzLCAnYW5kb3InLCB7fSkNCg0KICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmluaXRTZWFyY2hXb3JkcywgJ3NlYXJjaEtleScpICYmIChPYmplY3Qua2V5cyh0aGlzLmluaXRTZWFyY2hXb3Jkcy5zZWFyY2hLZXkpLmxlbmd0aCAhPT0gMCkpIHsNCiAgICAgICAgdGhpcy51c2VkU2VhcmNoV29yZHMuc2VhcmNoS2V5ID0gXy5jbG9uZURlZXAodGhpcy5pbml0U2VhcmNoV29yZHMuc2VhcmNoS2V5KQ0KICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaW5pdFNlYXJjaFdvcmRzLCAncmVnS2V5JykgJiYgKE9iamVjdC5rZXlzKHRoaXMuaW5pdFNlYXJjaFdvcmRzLnJlZ0tleSkubGVuZ3RoICE9PSAwKSkgew0KICAgICAgICAgIHRoaXMudXNlZFNlYXJjaFdvcmRzLnJlZ0tleSA9IF8uY2xvbmVEZWVwKHRoaXMuaW5pdFNlYXJjaFdvcmRzLnJlZ0tleSkNCiAgICAgICAgfQ0KICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaW5pdFNlYXJjaFdvcmRzLCAnYW5kb3InKSAmJiAoT2JqZWN0LmtleXModGhpcy5pbml0U2VhcmNoV29yZHMuYW5kb3IpLmxlbmd0aCAhPT0gMCkpIHsNCiAgICAgICAgICB0aGlzLnVzZWRTZWFyY2hXb3Jkcy5hbmRvciA9IF8uY2xvbmVEZWVwKHRoaXMuaW5pdFNlYXJjaFdvcmRzLmFuZG9yKQ0KICAgICAgICB9DQogICAgICB9DQogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMubm93U2VhcmNoV29yZHMsICdzZWFyY2hLZXknKSAmJiAoT2JqZWN0LmtleXModGhpcy5ub3dTZWFyY2hXb3Jkcy5zZWFyY2hLZXkpLmxlbmd0aCAhPT0gMCkpIHsNCiAgICAgICAgdGhpcy51c2VkU2VhcmNoV29yZHMuc2VhcmNoS2V5ID0gXy5tZXJnZSh0aGlzLm5vd1NlYXJjaFdvcmRzLnNlYXJjaEtleSwgdGhpcy5pbml0U2VhcmNoV29yZHMuc2VhcmNoS2V5KQ0KICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMubm93U2VhcmNoV29yZHMsICdyZWdLZXknKSAmJiAoT2JqZWN0LmtleXModGhpcy5ub3dTZWFyY2hXb3Jkcy5yZWdLZXkpLmxlbmd0aCAhPT0gMCkpIHsNCiAgICAgICAgICB0aGlzLnVzZWRTZWFyY2hXb3Jkcy5yZWdLZXkgPSBfLm1lcmdlKHRoaXMubm93U2VhcmNoV29yZHMucmVnS2V5LCB0aGlzLmluaXRTZWFyY2hXb3Jkcy5yZWdLZXkpDQogICAgICAgIH0NCiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLm5vd1NlYXJjaFdvcmRzLCAnYW5kb3InKSAmJiAoT2JqZWN0LmtleXModGhpcy5ub3dTZWFyY2hXb3Jkcy5hbmRvcikubGVuZ3RoICE9PSAwKSkgew0KICAgICAgICAgIHRoaXMudXNlZFNlYXJjaFdvcmRzLmFuZG9yID0gXy5tZXJnZSh0aGlzLm5vd1NlYXJjaFdvcmRzLmFuZG9yLCB0aGlzLmluaXRTZWFyY2hXb3Jkcy5hbmRvcikNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgX2luaXREYXRhTGlzdCgpIHsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgIHRyeSB7DQogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ29sdW1ucy5sZW5ndGggPiAwICYmICF0aGlzLmlzUGFnZUluaXQpIHsNCiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29sdW1ucyA9IHRoaXMuc2VsZWN0ZWRDb2x1bW5zLnNsaWNlKDAsIDApDQogICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS5jbGVhclNlbGVjdGlvbigpDQogICAgICAgIH0NCiAgICAgICAgLy8g5q+P5qyh5Yi35paw5YmN77yM6YO95bqU6K+l5ou85LiA5LiLdXNlZFNlYXJjaFdvcmRzDQogICAgICAgIHRoaXMuZ2V0VXNlZFNlYXJjaFdvcmRzKCkNCiAgICAgICAgdmFyIHJlc3ANCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodGhpcy50cmVlSW5mbykgPT09ICd7fScpIHsNCiAgICAgICAgICAgIHJlc3AgPSBhd2FpdCBsaXN0QVBJLmdldFNvbWVSZWNvcmRzKHsNCiAgICAgICAgICAgICAga2V5V29yZHM6IHRoaXMua2V5V29yZC52aWV3LA0KICAgICAgICAgICAgICBwYWdlSW5mbzogdGhpcy5wYWdlSW5mbywNCiAgICAgICAgICAgICAgdHJlZUluZm86IG51bGwsDQogICAgICAgICAgICAgIHNlYXJjaEtleTogdGhpcy51c2VkU2VhcmNoV29yZHMuc2VhcmNoS2V5LA0KICAgICAgICAgICAgICBzb3J0OiB0aGlzLnNvcnRTdHIsDQogICAgICAgICAgICAgIHJlZzogdGhpcy51c2VkU2VhcmNoV29yZHMucmVnS2V5LA0KICAgICAgICAgICAgICBhbmRvcjogdGhpcy51c2VkU2VhcmNoV29yZHMuYW5kb3INCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJlc3AgPSBhd2FpdCBsaXN0QVBJLmdldFNvbWVSZWNvcmRzKHsNCiAgICAgICAgICAgICAga2V5V29yZHM6IHRoaXMua2V5V29yZC52aWV3LA0KICAgICAgICAgICAgICBwYWdlSW5mbzogdGhpcy5wYWdlSW5mbywNCiAgICAgICAgICAgICAgdHJlZUluZm86IHRoaXMudHJlZUluZm8sDQogICAgICAgICAgICAgIHNlYXJjaEtleTogdGhpcy51c2VkU2VhcmNoV29yZHMuc2VhcmNoS2V5LA0KICAgICAgICAgICAgICBzb3J0OiB0aGlzLnNvcnRTdHIsDQogICAgICAgICAgICAgIHJlZzogdGhpcy51c2VkU2VhcmNoV29yZHMucmVnS2V5LA0KICAgICAgICAgICAgICBhbmRvcjogdGhpcy51c2VkU2VhcmNoV29yZHMuYW5kb3INCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICB9DQogICAgICAgIHRoaXMuZGF0YUxpc3QgPSBfLmNsb25lRGVlcChyZXNwLmRhdGEuY29udGVudCkNCiAgICAgICAgdGhpcy50b3RhbFNpemUgPSByZXNwLmRhdGEudG90YWxFbGVtZW50cw0KICAgICAgICB0aGlzLiRlbWl0KCdhZnRlci1pbml0LWRhdGEnLCB0aGlzLmRhdGFMaXN0KQ0KICAgICAgICB0aGlzLiRlbWl0KCd0b3RhbC1zaXplJywgdGhpcy50b3RhbFNpemUpDQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgIH0NCiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgfSwNCiAgICBhc3luYyBpbml0RGF0YUxpc3QobWFudWFsID0gZmFsc2UpIHsgLy8gbWFudWFsOiDmiYvliqjliLfmlrDmjInpkq4NCiAgICAgIGlmICh0aGlzLmF1dG9Jbml0IHx8IG1hbnVhbCkgew0KICAgICAgICBhd2FpdCB0aGlzLl9pbml0RGF0YUxpc3QoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8gI2VuZHJlZ2lvbg0KICAgIHNob3dTZWFyY2hQYW5lbChmbGFnKSB7DQogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpDQogICAgfSwNCiAgICBhdWRpdE9uQ2hhbmdlKHZhbHVlKSB7DQogICAgICB0aGlzLiRlbWl0KCdhdWRpdC1vbi1jaGFuZ2UnLCB2YWx1ZSkNCiAgICB9LA0KICAgIC8vICNyZWdpb24g5oyJ6ZKu55u45YWzDQogICAgLy8g5oyJ6ZKu5paw5aKeDQogICAgYXN5bmMgYXBwZW5kQ2xpY2soKSB7DQogICAgICB0aGlzLiRlbWl0KCdhcHBlbmQtY2xpY2snKQ0KICAgIH0sDQogICAgLy8g5oyJ6ZKu5L+u5pS5DQogICAgYXN5bmMgZWRpdENsaWNrKHJvdykgew0KICAgICAgdGhpcy4kZW1pdCgnZWRpdC1jbGljaycsIHJvdykNCiAgICB9LA0KICAgIC8vICNyZWdpb24g5oyJ6ZKu5Yig6ZmkDQogICAgLy8g5Yig6Zmk5Li75Ye95pWwDQogICAgYXN5bmMgX2RlbGV0ZUNsaWNrKHJvdykgew0KICAgICAgdmFyIGlkcyA9IHJvdy5tYXAoZSA9PiBlLmlkKQ0KICAgICAgYXdhaXQgbGlzdEFQSS5kZWxPbmVPck1hbnlOb2Rlcyh0aGlzLmtleVdvcmQuZWRpdCwgaWRzKQ0KICAgICAgdGhpcy5fZGVsZXRlU3VjY2VzcyhpZHMuc2l6ZSwgcm93KQ0KICAgIH0sDQogICAgLy8g5Yig6Zmk5oiQ5Yqf5ZCO55qE5aSE55CGDQogICAgYXN5bmMgX2RlbGV0ZVN1Y2Nlc3MobnVtLCByb3cpIHsNCiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5Yqf77yBJykNCiAgICAgIHRoaXMuJGVtaXQoJ2RlbGV0ZS1maW5pc2gtY2xpY2snLCByb3cpDQogICAgICAvLyDpgb/lhY3liKDpmaTmnIDlkI7lh7rnjrDliIbpobXnqbrnmb1idWcNCiAgICAgIGlmICgodGhpcy50b3RhbFNpemUgLSBudW0pICUgdGhpcy5wYWdlSW5mby5zaXplID09PSAwICYmIHRoaXMucGFnZUluZm8ucGFnZSA+IDEpIHsNCiAgICAgICAgdGhpcy5wYWdlSW5mby5wYWdlLS0NCiAgICAgIH0NCiAgICAgIHRoaXMuJHJlZnMudGFibGUuY2xlYXJTZWxlY3Rpb24oKQ0KICAgICAgdGhpcy5pbml0RGF0YUxpc3QoKQ0KICAgIH0sDQogICAgdXBsb2FkRmluaXNoKCkgew0KICAgICAgdGhpcy5pbml0RGF0YUxpc3QoKQ0KICAgIH0sDQogICAgLy8g5a+85Ye65oyJ6ZKuDQogICAgYXN5bmMgX2V4cG9ydENsaWNrKCkgew0KICAgICAgYXdhaXQgdGhpcy4kcmVmc1snZGF0YVRCTE1vdGhlciddLl9leHBvcnREYXRhKCkNCiAgICB9LA0KICAgIGFzeW5jIGV4cG9ydENsaWNrKCkgew0KICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnRoaXNFdmVudHMsICdleHBvcnQtY2xpY2snKSkgew0KICAgICAgICB0aGlzLiRlbWl0KCdleHBvcnQtY2xpY2snKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgYXdhaXQgdGhpcy5fZXhwb3J0Q2xpY2soKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5Yig6Zmk5oyJ6ZKuDQogICAgYXN5bmMgZGVsZXRlQ2xpY2socm93KSB7DQogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudGhpc0V2ZW50cywgJ2RlbGV0ZS1jbGljaycpKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ2RlbGV0ZS1jbGljaycsIHJvdykNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuX2RlbGV0ZUNsaWNrKHJvdykNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOebtOaOpeeCueWIoOmZpOaXtueahOW8ueahhuaPkOekuu+8jOiwg+eUqOS4iuS4gOWxgueahOWHveaVsA0KICAgIHJlbW92ZShyb3cpIHsNCiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudGhpc0V2ZW50cywgJ3NwZWMtcmVtb3ZlJykpIHsNCiAgICAgICAgdGhpcy4kcmVmc1snZGF0YVRCTE1vdGhlciddLnJlbW92ZShyb3cpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRlbWl0KCdzcGVjLXJlbW92ZScsIHJvdykNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vICNlbmRyZWdpb24NCg0KICAgIC8vICNyZWdpb24g5LiK56e75LiL56e7DQogICAgYXN5bmMgX21vdmUocm93LCB1cCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgYXdhaXQgbGlzdEFQSS5jaGFuZ2VOb2RlT3JkZXIodGhpcy5rZXlXb3JkLmVkaXQsIHJvdy5pZCwgdXAsIHRoaXMubW92ZVNlYXJjaFdvcmRzLnNlYXJjaEtleSwgdGhpcy5tb3ZlU2VhcmNoV29yZHMucmVnS2V5KQ0KICAgICAgICBhd2FpdCB0aGlzLmluaXREYXRhTGlzdCgpDQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn56e75Yqo5oiQ5Yqf77yBJykNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIOiKgueCueS4iuS4i+enuw0KICAgIGFzeW5jIG1vdmUocm93LCB1cCkgew0KICAgICAgaWYgKHVwKSB7DQogICAgICAgIHRoaXMuJHNldCh0aGlzLmJ1dHRvbkxvYWRpbmcsICd1cCcsIHRydWUpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRzZXQodGhpcy5idXR0b25Mb2FkaW5nLCAnZG93bicsIHRydWUpDQogICAgICB9DQogICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnRoaXNFdmVudHMsICdzcGVjLW1vdmUnKSkgew0KICAgICAgICBhd2FpdCB0aGlzLl9tb3ZlKHJvdywgdXApDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRlbWl0KCdzcGVjLW1vdmUnLCByb3csIHVwKQ0KICAgICAgfQ0KICAgICAgaWYgKHVwKSB7DQogICAgICAgIHRoaXMuJHNldCh0aGlzLmJ1dHRvbkxvYWRpbmcsICd1cCcsIGZhbHNlKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kc2V0KHRoaXMuYnV0dG9uTG9hZGluZywgJ2Rvd24nLCBmYWxzZSkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vICNlbmRyZWdpb24NCg0KICAgIC8vICNyZWdpb24g5oyJ6ZKu5a6h5qC4DQogICAgLy8g5a6h5qC46IqC54K5DQogICAgYXN5bmMgYXVkaXRDbGljayhyb3csIG9wZXJOYW1lKSB7DQogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudGhpc0V2ZW50cywgJ2F1ZGl0LWNsaWNrJykpIHsNCiAgICAgICAgdGhpcy4kZW1pdCgnYXVkaXQtY2xpY2snLCByb3csIG9wZXJOYW1lKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5fYXVkaXQocm93LCBvcGVyTmFtZSkNCiAgICAgIH0NCiAgICB9LA0KICAgIF9hdWRpdChyb3csIG9wZXJOYW1lKSB7ICAgICAgDQogICAgICBpZiAocm93Lmxlbmd0aCA9PT0gMSkgeyAgICAgICAgDQogICAgICAgIHRoaXMuJHBhcmVudC5vcGVuRGxnKCdhdWRpdCcsIHJvd1swXSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJvdy5mb3JFYWNoKHJvID0+IHsNCiAgICAgICAgICByby5hdWRpdFVzZXJJZCA9IHRoaXMuJHN0b3JlLmdldHRlcnMudXNlckluZm8uaWQNCiAgICAgICAgICByby5hdWRpdFRpbWUgPSBuZXcgRGF0ZSgpDQogICAgICAgICAgc3dpdGNoIChvcGVyTmFtZSkgew0KICAgICAgICAgICAgY2FzZSAn5om56YeP5a6h5qC46YCa6L+HJzoNCiAgICAgICAgICAgICAgcm8uaXNBdWRpdCA9IENPTlNUQU5ULkFVRElUX1NUQVRVUy5QQVNTDQogICAgICAgICAgICAgIHJvLnJlYXNvbiA9IENPTlNUQU5ULkFVRElUX1NUQVRVUy5QQVNTTkFNRQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAn5om56YeP5a6h5qC45LiN6YCa6L+HJzoNCiAgICAgICAgICAgICAgcm8uaXNBdWRpdCA9IENPTlNUQU5ULkFVRElUX1NUQVRVUy5OT1RQQVNTDQogICAgICAgICAgICAgIHJvLnJlYXNvbiA9IENPTlNUQU5ULkFVRElUX1NUQVRVUy5OT1RQQVNTTkFNRQ0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgY2FzZSAn5om56YeP5omT5ZueJzoNCiAgICAgICAgICAgICAgcm8uaXNBdWRpdCA9IENPTlNUQU5ULkFVRElUX1NUQVRVUy5TQVZFDQogICAgICAgICAgICAgIHJvLnJlYXNvbiA9IENPTlNUQU5ULkFVRElUX1NUQVRVUy5TQVZFTkFNRQ0KICAgICAgICAgICAgICByby5hdWRpdFRpbWUgPSBudWxsDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBjYXNlICfmibnph4/lrqHmoLjpgIDlm54nOg0KICAgICAgICAgICAgICByby5pc0F1ZGl0ID0gQ09OU1RBTlQuQVVESVRfU1RBVFVTLkJBQ0sNCiAgICAgICAgICAgICAgcm8ucmVhc29uID0gQ09OU1RBTlQuQVVESVRfU1RBVFVTLkJBQ0tOQU1FDQogICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgfQ0KICAgICAgICAgIGxpc3RBUEkuZWRpdE9uZU5vZGUodGhpcy5rZXlXb3JkLmVkaXQsIHJvKQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8gI2VuZHJlZ2lvbg0KDQogICAgLy8g5oyJ6ZKu5p+l6K+iDQogICAgc2VhcmNoQ2xpY2soc2VhcmNoSW5mbykgew0KICAgICAgdmFyIHNlYXJjaEtleSA9IHt9DQogICAgICB2YXIgcmVnS2V5ID0ge30NCiAgICAgIGlmICh0eXBlb2YgdGhpcy5zZWFyY2hOYW1lID09PSAnc3RyaW5nJykgew0KICAgICAgICB0aGlzLiRzZXQoc2VhcmNoS2V5LCB0aGlzLnNlYXJjaE5hbWUsIHNlYXJjaEluZm8pDQogICAgICAgIHRoaXMuJHNldChyZWdLZXksIHRoaXMuc2VhcmNoTmFtZSwgQ09OU1RBTlQuU0VBUkNIX09QRVJBVE9SLkxJS0UpDQogICAgICAvLyB9IGVsc2Ugew0KICAgICAgLy8gICBmb3IgKHZhciBpPTA7aTx0aGlzLnNlYXJjaE5hbWUubGVuZ3RoO2krKykgew0KICAgICAgLy8gICAgIHRoaXMuJHNldChzZWFyY2hLZXksIHRoaXMuc2VhcmNoTmFtZVtpXSwgc2VhcmNoSW5mbykNCiAgICAgIC8vICAgICB0aGlzLiRzZXQocmVnS2V5LCB0aGlzLnNlYXJjaE5hbWVbaV0sIENPTlNUQU5ULlNFQVJDSF9PUEVSQVRPUi5MSUtFKQ0KICAgICAgLy8gICAgIHRoaXMuJHNldChhbmRvciwgdGhpcy5zZWFyY2hOYW1lW2ldLCBmYWxzZSkNCiAgICAgIC8vICAgfQ0KICAgICAgLy8gICB0aGlzLiRzZXQodGhpcy5ub3dTZWFyY2hXb3JkcywgJ2FuZG9yJywgYW5kb3IpDQogICAgICB9DQogICAgICB0aGlzLiRzZXQodGhpcy5ub3dTZWFyY2hXb3JkcywgJ3NlYXJjaEtleScsIHNlYXJjaEtleSkNCiAgICAgIHRoaXMuJHNldCh0aGlzLm5vd1NlYXJjaFdvcmRzLCAncmVnS2V5JywgcmVnS2V5KQ0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuaW5pdERhdGFMaXN0KCkgfSwgNTAwKQ0KICAgIH0sDQogICAgYWR2YW5jZWRTZWFyY2hDbGljayhzZWFyY2hJbmZvKSB7DQogICAgICB2YXIgc2VhcmNoS2V5ID0ge30NCiAgICAgIHZhciByZWdLZXkgPSB7fQ0KICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNlYXJjaEluZm8pDQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc2VhcmNoSXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5maWVsZCA9PT0ga2V5c1tpXSkNCiAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoID4gMCkgew0KICAgICAgICAgIGlmIChpdGVtWzBdLnR5cGUgPT09ICdpbnB1dCcpIHsNCiAgICAgICAgICAgIHRoaXMuJHNldChzZWFyY2hLZXksIGtleXNbaV0sIHNlYXJjaEluZm9ba2V5c1tpXV0pDQogICAgICAgICAgICB0aGlzLiRzZXQocmVnS2V5LCBrZXlzW2ldLCBDT05TVEFOVC5TRUFSQ0hfT1BFUkFUT1IuTElLRSkNCiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW1bMF0udHlwZSA9PT0gJ3NlbGVjdCcpIHsNCiAgICAgICAgICAgIHRoaXMuJHNldChzZWFyY2hLZXksIGtleXNbaV0sIHNlYXJjaEluZm9ba2V5c1tpXV0pDQogICAgICAgICAgfSBlbHNlIGlmIChpdGVtWzBdLnR5cGUgPT09ICdkYXRlJykgew0KICAgICAgICAgICAgdGhpcy4kc2V0KHNlYXJjaEtleSwga2V5c1tpXSwgeyBiZWdpbkRhdGU6IHNlYXJjaEluZm9ba2V5c1tpXV1bMF0sIGVuZERhdGU6IHNlYXJjaEluZm9ba2V5c1tpXV1bMV0gfSkNCiAgICAgICAgICAgIHRoaXMuJHNldChyZWdLZXksIGtleXNbaV0sIENPTlNUQU5ULlNFQVJDSF9PUEVSQVRPUi5SQU5HRSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMuJHNldCh0aGlzLm5vd1NlYXJjaFdvcmRzLCAnc2VhcmNoS2V5Jywgc2VhcmNoS2V5KQ0KICAgICAgdGhpcy4kc2V0KHRoaXMubm93U2VhcmNoV29yZHMsICdyZWdLZXknLCByZWdLZXkpDQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5pbml0RGF0YUxpc3QoKSB9LCA1MDApDQogICAgfSwNCiAgICAvLyDmm7TlpJrlhoXlrrkxDQogICAgYXN5bmMgbW9yZTFDbGljayhyb3cpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ21vcmUxLWNsaWNrJywgcm93KQ0KICAgIH0sDQogICAgLy8g5pu05aSa5YaF5a65Mg0KICAgIGFzeW5jIG1vcmUyQ2xpY2socm93KSB7DQogICAgICB0aGlzLiRlbWl0KCdtb3JlMi1jbGljaycsIHJvdykNCiAgICB9LA0KDQogICAgLy8gI2VuZHJlZ2lvbg0KDQogICAgLy8g5Yi35paw5pON5L2cDQogICAgcmVmcmVzaEluaXQoKSB7DQogICAgICB0aGlzLiRzZXQodGhpcy5ub3dTZWFyY2hXb3JkcywgJ3NlYXJjaEtleScsIHt9KQ0KICAgICAgdGhpcy4kc2V0KHRoaXMubm93U2VhcmNoV29yZHMsICdyZWdLZXknLCB7fSkNCiAgICAgIHRoaXMuJHNldCh0aGlzLm5vd1NlYXJjaFdvcmRzLCAnYW5kb3InLCB7fSkNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuaW5pdFNlYXJjaFdvcmRzKQ0KICAgICAgLy8gaWYgKCF0aGlzLnNlYXJjaCkgew0KICAgICAgLy8NCiAgICAgIC8vICAgdGhpcy4kZW1pdCgndXBkYXRlOnJlZ0tleScsIHt9KQ0KICAgICAgLy8gICB0aGlzLiRlbWl0KCd1cGRhdGU6c2VhcmNoS2V5Jywge30pDQogICAgICAvLyAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp0cmVlSW5mbycsIHt9KQ0KICAgICAgLy8gICB0aGlzLiRlbWl0KCd1cGRhdGU6dG9wVHJlZUluZm8nLCBbXSkNCiAgICAgIC8vICAgdGhpcy5zZWFyY2ggPSBmYWxzZQ0KICAgICAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5pbml0RGF0YUxpc3QoKSB9LCA1MDApDQogICAgICAvLyB9IGVsc2Ugew0KICAgICAgdGhpcy5pbml0RGF0YUxpc3QoKQ0KICAgICAgLy8gfQ0KICAgIH0sDQogICAgLy8g6Ieq5a6a5LmJ5o6S5bqPDQogICAgaGFuZGxlU29ydENoYW5nZShjb2x1bW4pIHsNCiAgICAgIHRoaXMuc29ydFN0ci5wcm9wZXJ0aWVzID0gY29sdW1uLnByb3ANCiAgICAgIGlmIChjb2x1bW4ub3JkZXIgPT09ICdhc2NlbmRpbmcnKSB7DQogICAgICAgIHRoaXMuc29ydFN0ci5kaXJlY3Rpb24gPSAnQVNDJw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zb3J0U3RyLmRpcmVjdGlvbiA9ICdERVNDJw0KICAgICAgfQ0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuaW5pdERhdGFMaXN0KCkgfSwgNTAwKQ0KICAgIH0sDQogICAgLy8g55uR5ZCs54K55Ye75p+Q5LiA6KGM5LqL5Lu2DQogICAgaGFuZGxlQ29sdW1uQ2hhbmdlKHZhbCkgew0KICAgICAgaWYgKCF0aGlzLmNoZWNrRmxhZykgew0KICAgICAgICB0aGlzLnRhYmxlUmFkaW8gPSB2YWwNCiAgICAgICAgdGhpcy5zZWxlY3RlZENvbHVtbnMgPSBbdmFsXQ0KICAgICAgfQ0KICAgICAgdGhpcy4kZW1pdCgndXBkYXRlLWNvbHVtbicsIHZhbCkNCiAgICB9LA0KICAgIC8vIOebkeWQrOmAieS4reeahOS6i+S7tg0KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRDb2x1bW5zID0gc2VsZWN0aW9uDQogICAgfSwNCiAgICAvLyDmn6XnnIvoioLngrkNCiAgICBhc3luYyB2aWV3KHZhbCkgew0KICAgICAgdGhpcy4kZW1pdCgndmlldy1jbGljaycsIHZhbCkNCiAgICB9LA0KICAgIC8vIOaUueWPmOmhteeggQ0KICAgIGFzeW5jIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICB0aGlzLnBhZ2VJbmZvLnNpemUgPSB2YWwNCiAgICAgIHRoaXMuaXNQYWdlSW5pdCA9IHRydWUNCiAgICAgIGF3YWl0IHRoaXMuaW5pdERhdGFMaXN0KCkNCiAgICAgIHRoaXMuaXNQYWdlSW5pdCA9IGZhbHNlDQogICAgfSwNCiAgICBhc3luYyBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5wYWdlSW5mby5wYWdlID0gdmFsDQogICAgICB0aGlzLmlzUGFnZUluaXQgPSB0cnVlDQogICAgICBhd2FpdCB0aGlzLmluaXREYXRhTGlzdCgpDQogICAgICB0aGlzLmlzUGFnZUluaXQgPSBmYWxzZQ0KICAgIH0NCiAgfQ0KfQ0KLy8g"},{"version":3,"sources":["DataTableList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataTableList.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <DataTableHeader ref=\"dataTBLMother\" :selected-columns.sync=\"selectedColumns\" :default-props=\"defaultProps.defaultDTHProps\" @init-click=\"refreshInit\" @show-search=\"showSearchPanel\" @append-click=\"appendClick\" @edit-click=\"editClick\" @delete-click=\"deleteClick\" @audit-click=\"auditClick\" @export-click=\"exportClick\" @audit-on-change=\"auditOnChange\" @more1-click=\"more1Click\" @more2-click=\"more2Click\" @upload-finish=\"uploadFinish\">\r\n    <template slot=\"searchPanel\">\r\n      <!-- v-model=\"searchName\" -->\r\n      <slot name=\"searchPanel\"><BtnSearch :search-name=\"searchName\" :placeholder=\"searchPlaceholder\" :no-advanced-search=\"noAdvancedSearch\" :search-items=\"searchItems\" @search-click=\"searchClick\" @advanced-search-click=\"advancedSearchClick\" /></slot>\r\n    </template>\r\n    <template slot=\"body\">\r\n      <!--列表展示-->\r\n      <el-card shadow=\"never\">\r\n        <slot slot=\"header\" name=\"cardTitle\" />\r\n        <template v-if=\"title\" slot=\"header\">\r\n          <span>{{ title.mainTitle }}</span>\r\n          <span v-if=\"title.subTitle\">&nbsp;|&nbsp;<strong>{{ title.subTitle || \"全部\" }}</strong></span>\r\n        </template>\r\n        <el-table ref=\"table\" v-adaptive=\"{bottomOffset}\" v-loading=\"loading\" border height=\"100%\" :data=\"dataList\" row-key=\"id\" highlight-current-rows @current-change=\"handleColumnChange\" @selection-change=\"handleSelectionChange\" @sort-change=\"handleSortChange\">\r\n          <el-table-column v-if=\"checkFlag\" fixed :reserve-selection=\"true\" type=\"selection\" width=\"55\" />\r\n          <el-table-column v-else fixed width=\"55\">\r\n            <template slot-scope=\"scope\">\r\n              <el-radio v-model=\"tableRadio\" :label=\"scope.row\"><i /></el-radio>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column v-for=\"(item, index) in tableColumnItem\" :key=\"index\" :show-overflow-tooltip=\"true\" :prop=\"item.tableColumnName\" :label=\"item.showName\" :width=\"item.width\" :sortable=\"item.sortable?'custom':false\">\r\n            <template #default=\"scope\">\r\n              <!-- 特殊列格式 -->\r\n              <div v-if=\"item.tableColumnName.endsWith('Time')\">{{ scope.row[item.tableColumnName] | filterDateTime }}</div>\r\n              <div v-else-if=\"item.tableColumnName === 'isAudit'\">{{ scope.row[item.tableColumnName] | filterIsAudit }}</div>\r\n              <div v-else-if=\"item.tableColumnName === 'status'\">{{ scope.row[item.tableColumnName] | filterTeamStatus }}</div>\r\n              <div v-else-if=\"item.tableColumnName.endsWith('Status')\">{{ scope.row[item.tableColumnName] | filterPublishStatus }}</div>\r\n              <!-- 列表自定义显示的内容 tableColumnName 必须以 customize- 开头 -->\r\n              <slot v-else-if=\"item.tableColumnName.startsWith('customize-')\" :name=\"item.tableColumnName.replace('customize-','')\" :row=\"scope.row\" />\r\n              <div v-else>{{ scope.row[item.tableColumnName] || \"--\" }}</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column v-if=\"operateShow\" fixed=\"right\" label=\"操作\" :width=\"operateWidth\">\r\n            <template #default=\"scope\">\r\n              <!--查看and编辑and删除-->\r\n              <el-button v-if=\"button.visible.show\" :type=\"button.visible.type\" size=\"mini\" :title=\"button.visible.name\" @click=\"view([scope.row])\">\r\n                <svg-icon icon-class=\"axt-view\" />\r\n              </el-button>\r\n              <el-button v-if=\"button.update.show\" :type=\"button.update.type\" icon=\"el-icon-edit\" size=\"mini\" :title=\"button.update.name\" @click=\"editClick(scope.row)\" />\r\n              <!--列表数据右方的操作按钮-->\r\n              <slot name=\"rightOperate\" :row=\"scope.row\" />\r\n              <el-button v-if=\"button.delete.show\" :type=\"button.delete.type\" icon=\"el-icon-delete\" size=\"mini\" :title=\"button.delete.name\" @click=\"remove([scope.row])\" />\r\n              <el-button v-if=\"button.up.show\" :type=\"button.up.type\" icon=\"el-icon-top\" size=\"mini\" :loading=\"buttonLoading.up\" :title=\"button.up.name\" @click=\"move(scope.row, true)\" />\r\n              <el-button v-if=\"button.down.show\" :type=\"button.down.type\" icon=\"el-icon-bottom\" size=\"mini\" :loading=\"buttonLoading.down\" :title=\"button.down.name\" @click=\"move(scope.row, false)\" />\r\n              <el-button v-if=\"button.audit.show\" :type=\"button.audit.type\" icon=\"el-icon-s-check\" size=\"mini\" :title=\"button.audit.name\" @click=\"auditClick([scope.row], null)\" />\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <v-page v-if=\"showPage\" align=\"center\" :total=\"totalSize\" :current-page=\"pageInfo.page\" :page-size=\"pageInfo.size\" :page-sizes=\"[25, 50, 75, 100]\" :selected-columns=\"selectedColumns\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" />\r\n      </el-card>\r\n    </template>\r\n  </DataTableHeader>\r\n</template>\r\n\r\n<script>\r\n\r\nimport DataTableHeader from '@/components/DataTableHeader'\r\nimport listAPI from '@/api/list'\r\nimport BtnSearch from '@/components/BtnSearch'\r\n\r\nimport VPage from '@/components/Pagination'\r\nimport moment from 'moment'\r\nimport adaptive from '@/directive/el-table'\r\nimport CONSTANT from '@/constant'\r\nimport _ from 'lodash'\r\nexport default {\r\n  name: 'DataTableList',\r\n  components: { VPage, DataTableHeader, BtnSearch },\r\n  directives: { adaptive },\r\n  filters: {\r\n    filterDateTime(val) {\r\n      if (!val) {\r\n        return '--'\r\n      } else {\r\n        return moment(val).format('YYYY-MM-DD HH:mm')\r\n      }\r\n    },\r\n    filterIsAudit(val) { // 这个地方出现的constant，需要在本文件头部import constant，不知道原因\r\n      switch (val) {\r\n        case CONSTANT.AUDIT_STATUS.SUBMIT: return CONSTANT.AUDIT_STATUS.SUBMITNAME\r\n        case CONSTANT.AUDIT_STATUS.PASS: return CONSTANT.AUDIT_STATUS.PASSNAME\r\n        case CONSTANT.AUDIT_STATUS.NOTPASS: return CONSTANT.AUDIT_STATUS.NOTPASSNAME\r\n        case CONSTANT.AUDIT_STATUS.BACK: return CONSTANT.AUDIT_STATUS.BACKNAME\r\n        default: return CONSTANT.AUDIT_STATUS.SAVENAME\r\n      }\r\n    },\r\n    filterTeamStatus(val) {\r\n      switch (val) {\r\n        case 1: return '校赛'\r\n        case 2: return '省赛初赛'\r\n        case 3: return '省赛决赛'\r\n      }\r\n    },\r\n    filterPublishStatus(val) {\r\n      switch (val) {\r\n        case false: return '未发布'\r\n        case true: return '已发布'\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    defaultProps: { // 注意这里的默认值没有用，必须在create中再设置\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          keyWord: { },\r\n          title: { mainTile: '', subTitle: '' },\r\n          bottomOffset: 0,\r\n          sortStr: { properties: 'Id', direction: 'DESC' }, // 排序方法\r\n          treeInfo: { },\r\n          someFlags: {\r\n            operateShow: true, // 最右边的按钮操作面板是否出现\r\n            checkFlag: true, // 是否出现最左边的checkBox\r\n            showPage: true, // 是否显示底部翻页\r\n            autoInit: true // 初始时是否显示数据\r\n          },\r\n          initSearchWords: { // 初始时查询的三个关键词\r\n            searchKey: { },\r\n            regKey: { },\r\n            andor: { }\r\n          },\r\n          nowSearchWords: { // 变化查询的三个关键词\r\n            searchKey: { },\r\n            regKey: { },\r\n            andor: { }\r\n          },\r\n          moveSearchWords: { // 用于上移下移时候的查询字\r\n            moveSearchKey: { },\r\n            moveRegKey: { }\r\n          },\r\n          searchPanel: {\r\n            name: '',\r\n            placeholder: ''\r\n          },\r\n          defaultDTHProps: {\r\n            // defaultDTHProps中的所有对象属性\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      usedSearchWords: { // 最终使用查询的三个关键词\r\n        searchKey: { },\r\n        regKey: { },\r\n        andor: { }\r\n      },\r\n      selectedColumns: [],\r\n      // loading: true,\r\n      // layout: 'total, sizes, prev, pager, next, jumper',\r\n      dataList: [],\r\n      pageInfo: { page: 1, size: 25 },\r\n      totalSize: 0,\r\n      tableColumnItem: [],\r\n      loading: false,\r\n      buttonLoading: { up: false, down: false },\r\n      tableRadio: null,\r\n      // 列表中的字体颜色\r\n      redArr: [],\r\n      greenArr: [],\r\n      blueArr: [],\r\n      yellowArr: [],\r\n\r\n      operateWidth: 60,\r\n      thisEvents: '',\r\n      isPageInit: false\r\n    }\r\n  },\r\n  computed: {\r\n    keyWord() {\r\n      return this.$refs.dataTBLMother.keyWord\r\n    },\r\n    title() {\r\n      return this.defaultProps.title ? this.defaultProps.title : null\r\n    },\r\n    button() {\r\n      return this.$refs.dataTBLMother.button\r\n    },\r\n    operateShow() {\r\n      if (Object.prototype.hasOwnProperty.call(this.defaultProps, 'someFlags')) {\r\n        if (Object.prototype.hasOwnProperty.call(this.defaultProps.someFlags, 'operateShow')) {\r\n          return this.defaultProps.someFlags.operateShow\r\n        }\r\n      }\r\n      return true\r\n    },\r\n    checkFlag() {\r\n      if (Object.prototype.hasOwnProperty.call(this.defaultProps, 'someFlags')) {\r\n        if (Object.prototype.hasOwnProperty.call(this.defaultProps.someFlags, 'checkFlag')) {\r\n          return this.defaultProps.someFlags.checkFlag\r\n        }\r\n      }\r\n      return true\r\n    },\r\n    noAdvancedSearch() {\r\n      if (Object.prototype.hasOwnProperty.call(this.defaultProps, 'someFlags')) {\r\n        if (Object.prototype.hasOwnProperty.call(this.defaultProps.someFlags, 'noAdvancedSearch')) {\r\n          return this.defaultProps.someFlags.noAdvancedSearch\r\n        }\r\n      }\r\n      return true\r\n    },\r\n    showPage() {\r\n      if (Object.prototype.hasOwnProperty.call(this.defaultProps, 'someFlags')) {\r\n        if (Object.prototype.hasOwnProperty.call(this.defaultProps.someFlags, 'showPage')) {\r\n          return this.defaultProps.someFlags.showPage\r\n        }\r\n      }\r\n      return true\r\n    },\r\n    autoInit() {\r\n      if (Object.prototype.hasOwnProperty.call(this.defaultProps, 'someFlags')) {\r\n        if (Object.prototype.hasOwnProperty.call(this.defaultProps.someFlags, 'autoInit')) {\r\n          return this.defaultProps.someFlags.autoInit\r\n        }\r\n      }\r\n      return true\r\n    },\r\n    bottomOffset: {\r\n      get: function() {\r\n        return this.defaultProps.bottomOffset ? this.defaultProps.bottomOffset : 0\r\n      },\r\n      set: function() {\r\n        this.$forceUpdate()\r\n      }\r\n    },\r\n    searchItems() {\r\n      return this.defaultProps.searchItems ? this.defaultProps.searchItems : []\r\n    },\r\n    sortStr() {\r\n      return this.defaultProps.sortStr ? this.defaultProps.sortStr : { properties: 'Id', direction: 'DESC' }\r\n    },\r\n    initSearchWords() {\r\n      return this.defaultProps.initSearchWords ? this.defaultProps.initSearchWords : { }\r\n    },\r\n    nowSearchWords: {\r\n      get() {\r\n        return this.defaultProps.nowSearchWords ? this.defaultProps.nowSearchWords : { }\r\n      },\r\n      set(val) {\r\n\r\n      }\r\n    },\r\n    moveSearchWords() {\r\n      return this.defaultProps.moveSearchWords ? this.defaultProps.moveSearchWords : { }\r\n    },\r\n    treeInfo() {\r\n      return this.defaultProps.treeInfo ? this.defaultProps.treeInfo : {}\r\n    },\r\n    searchName() {\r\n      if (Object.prototype.hasOwnProperty.call(this.defaultProps, 'searchPanel')) {\r\n        return this.defaultProps.searchPanel.name ? this.defaultProps.searchPanel.name : ''\r\n      }\r\n      return ''\r\n    },\r\n    searchPlaceholder() {\r\n      if (Object.prototype.hasOwnProperty.call(this.defaultProps, 'searchPanel')) {\r\n        return this.defaultProps.searchPanel.placeholder ? this.defaultProps.searchPanel.placeholder : '请输入名称'\r\n      }\r\n      return '请输入名称'\r\n    }\r\n    // variables() {\r\n    //   return variables\r\n    // },\r\n    // colors() {\r\n    //   return eVariables\r\n    // }\r\n  },\r\n  watch: {\r\n    autoInit: {\r\n      handler(val) {\r\n        if (val) {\r\n          setTimeout(() => { this.initDataList() }, 500)\r\n        }\r\n      }\r\n    },\r\n    nowSearchWords: {\r\n      handler(val) {\r\n        if (this.autoInit) {\r\n          setTimeout(() => { this.initDataList() }, 500)\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.thisEvents = JSON.parse(JSON.stringify(this._events))\r\n    var btn = this.$refs.dataTBLMother.button\r\n    let num = 0\r\n    const arr = [\r\n      btn.visible.show,\r\n      btn.delete.show,\r\n      btn.update.show,\r\n      btn.up.show,\r\n      btn.down.show,\r\n      btn.audit.show\r\n    ]\r\n    num = arr.reduce((acc, cur) => {\r\n      acc = cur ? acc + 1 : acc\r\n      return acc\r\n    }, 0)\r\n\r\n    var width = num * 46\r\n    if (width < 60) {\r\n      width = 60\r\n    }\r\n    this.operateWidth = width\r\n\r\n    setTimeout(() => { this.initDataList() }, 500)\r\n  },\r\n  methods: {\r\n    // #region initDataList\r\n    getUsedSearchWords() {\r\n      this.$set(this.usedSearchWords, 'searchKey', {})\r\n      this.$set(this.usedSearchWords, 'regKey', {})\r\n      this.$set(this.usedSearchWords, 'andor', {})\r\n\r\n      if (Object.prototype.hasOwnProperty.call(this.initSearchWords, 'searchKey') && (Object.keys(this.initSearchWords.searchKey).length !== 0)) {\r\n        this.usedSearchWords.searchKey = _.cloneDeep(this.initSearchWords.searchKey)\r\n        if (Object.prototype.hasOwnProperty.call(this.initSearchWords, 'regKey') && (Object.keys(this.initSearchWords.regKey).length !== 0)) {\r\n          this.usedSearchWords.regKey = _.cloneDeep(this.initSearchWords.regKey)\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(this.initSearchWords, 'andor') && (Object.keys(this.initSearchWords.andor).length !== 0)) {\r\n          this.usedSearchWords.andor = _.cloneDeep(this.initSearchWords.andor)\r\n        }\r\n      }\r\n      if (Object.prototype.hasOwnProperty.call(this.nowSearchWords, 'searchKey') && (Object.keys(this.nowSearchWords.searchKey).length !== 0)) {\r\n        this.usedSearchWords.searchKey = _.merge(this.nowSearchWords.searchKey, this.initSearchWords.searchKey)\r\n        if (Object.prototype.hasOwnProperty.call(this.nowSearchWords, 'regKey') && (Object.keys(this.nowSearchWords.regKey).length !== 0)) {\r\n          this.usedSearchWords.regKey = _.merge(this.nowSearchWords.regKey, this.initSearchWords.regKey)\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(this.nowSearchWords, 'andor') && (Object.keys(this.nowSearchWords.andor).length !== 0)) {\r\n          this.usedSearchWords.andor = _.merge(this.nowSearchWords.andor, this.initSearchWords.andor)\r\n        }\r\n      }\r\n    },\r\n    async _initDataList() {\r\n      this.loading = true\r\n      try {\r\n        if (this.selectedColumns.length > 0 && !this.isPageInit) {\r\n          this.selectedColumns = this.selectedColumns.slice(0, 0)\r\n          this.$refs.table.clearSelection()\r\n        }\r\n        // 每次刷新前，都应该拼一下usedSearchWords\r\n        this.getUsedSearchWords()\r\n        var resp\r\n        try {\r\n          if (JSON.stringify(this.treeInfo) === '{}') {\r\n            resp = await listAPI.getSomeRecords({\r\n              keyWords: this.keyWord.view,\r\n              pageInfo: this.pageInfo,\r\n              treeInfo: null,\r\n              searchKey: this.usedSearchWords.searchKey,\r\n              sort: this.sortStr,\r\n              reg: this.usedSearchWords.regKey,\r\n              andor: this.usedSearchWords.andor\r\n            })\r\n          } else {\r\n            resp = await listAPI.getSomeRecords({\r\n              keyWords: this.keyWord.view,\r\n              pageInfo: this.pageInfo,\r\n              treeInfo: this.treeInfo,\r\n              searchKey: this.usedSearchWords.searchKey,\r\n              sort: this.sortStr,\r\n              reg: this.usedSearchWords.regKey,\r\n              andor: this.usedSearchWords.andor\r\n            })\r\n          }\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n        this.dataList = _.cloneDeep(resp.data.content)\r\n        this.totalSize = resp.data.totalElements\r\n        this.$emit('after-init-data', this.dataList)\r\n        this.$emit('total-size', this.totalSize)\r\n      } catch (error) {\r\n        console.log(error)\r\n        this.loading = false\r\n      }\r\n      this.loading = false\r\n    },\r\n    async initDataList(manual = false) { // manual: 手动刷新按钮\r\n      if (this.autoInit || manual) {\r\n        await this._initDataList()\r\n      }\r\n    },\r\n    // #endregion\r\n    showSearchPanel(flag) {\r\n      this.$forceUpdate()\r\n    },\r\n    auditOnChange(value) {\r\n      this.$emit('audit-on-change', value)\r\n    },\r\n    // #region 按钮相关\r\n    // 按钮新增\r\n    async appendClick() {\r\n      this.$emit('append-click')\r\n    },\r\n    // 按钮修改\r\n    async editClick(row) {\r\n      this.$emit('edit-click', row)\r\n    },\r\n    // #region 按钮删除\r\n    // 删除主函数\r\n    async _deleteClick(row) {\r\n      var ids = row.map(e => e.id)\r\n      await listAPI.delOneOrManyNodes(this.keyWord.edit, ids)\r\n      this._deleteSuccess(ids.size, row)\r\n    },\r\n    // 删除成功后的处理\r\n    async _deleteSuccess(num, row) {\r\n      this.$message.success('删除成功！')\r\n      this.$emit('delete-finish-click', row)\r\n      // 避免删除最后出现分页空白bug\r\n      if ((this.totalSize - num) % this.pageInfo.size === 0 && this.pageInfo.page > 1) {\r\n        this.pageInfo.page--\r\n      }\r\n      this.$refs.table.clearSelection()\r\n      this.initDataList()\r\n    },\r\n    uploadFinish() {\r\n      this.initDataList()\r\n    },\r\n    // 导出按钮\r\n    async _exportClick() {\r\n      await this.$refs['dataTBLMother']._exportData()\r\n    },\r\n    async exportClick() {\r\n      if (Object.prototype.hasOwnProperty.call(this.thisEvents, 'export-click')) {\r\n        this.$emit('export-click')\r\n      } else {\r\n        await this._exportClick()\r\n      }\r\n    },\r\n    // 删除按钮\r\n    async deleteClick(row) {\r\n      if (Object.prototype.hasOwnProperty.call(this.thisEvents, 'delete-click')) {\r\n        this.$emit('delete-click', row)\r\n      } else {\r\n        this._deleteClick(row)\r\n      }\r\n    },\r\n    // 直接点删除时的弹框提示，调用上一层的函数\r\n    remove(row) {\r\n      if (!Object.prototype.hasOwnProperty.call(this.thisEvents, 'spec-remove')) {\r\n        this.$refs['dataTBLMother'].remove(row)\r\n      } else {\r\n        this.$emit('spec-remove', row)\r\n      }\r\n    },\r\n    // #endregion\r\n\r\n    // #region 上移下移\r\n    async _move(row, up) {\r\n      try {\r\n        await listAPI.changeNodeOrder(this.keyWord.edit, row.id, up, this.moveSearchWords.searchKey, this.moveSearchWords.regKey)\r\n        await this.initDataList()\r\n        this.$message.success('移动成功！')\r\n        return true\r\n      } catch (error) {\r\n        console.log(error)\r\n        return false\r\n      }\r\n    },\r\n    // 节点上下移\r\n    async move(row, up) {\r\n      if (up) {\r\n        this.$set(this.buttonLoading, 'up', true)\r\n      } else {\r\n        this.$set(this.buttonLoading, 'down', true)\r\n      }\r\n      if (!Object.prototype.hasOwnProperty.call(this.thisEvents, 'spec-move')) {\r\n        await this._move(row, up)\r\n      } else {\r\n        this.$emit('spec-move', row, up)\r\n      }\r\n      if (up) {\r\n        this.$set(this.buttonLoading, 'up', false)\r\n      } else {\r\n        this.$set(this.buttonLoading, 'down', false)\r\n      }\r\n    },\r\n    // #endregion\r\n\r\n    // #region 按钮审核\r\n    // 审核节点\r\n    async auditClick(row, operName) {\r\n      if (Object.prototype.hasOwnProperty.call(this.thisEvents, 'audit-click')) {\r\n        this.$emit('audit-click', row, operName)\r\n      } else {\r\n        this._audit(row, operName)\r\n      }\r\n    },\r\n    _audit(row, operName) {      \r\n      if (row.length === 1) {        \r\n        this.$parent.openDlg('audit', row[0])\r\n      } else {\r\n        row.forEach(ro => {\r\n          ro.auditUserId = this.$store.getters.userInfo.id\r\n          ro.auditTime = new Date()\r\n          switch (operName) {\r\n            case '批量审核通过':\r\n              ro.isAudit = CONSTANT.AUDIT_STATUS.PASS\r\n              ro.reason = CONSTANT.AUDIT_STATUS.PASSNAME\r\n              break\r\n            case '批量审核不通过':\r\n              ro.isAudit = CONSTANT.AUDIT_STATUS.NOTPASS\r\n              ro.reason = CONSTANT.AUDIT_STATUS.NOTPASSNAME\r\n              break\r\n            case '批量打回':\r\n              ro.isAudit = CONSTANT.AUDIT_STATUS.SAVE\r\n              ro.reason = CONSTANT.AUDIT_STATUS.SAVENAME\r\n              ro.auditTime = null\r\n              break\r\n            case '批量审核退回':\r\n              ro.isAudit = CONSTANT.AUDIT_STATUS.BACK\r\n              ro.reason = CONSTANT.AUDIT_STATUS.BACKNAME\r\n              break\r\n          }\r\n          listAPI.editOneNode(this.keyWord.edit, ro)\r\n        })\r\n      }\r\n    },\r\n    // #endregion\r\n\r\n    // 按钮查询\r\n    searchClick(searchInfo) {\r\n      var searchKey = {}\r\n      var regKey = {}\r\n      if (typeof this.searchName === 'string') {\r\n        this.$set(searchKey, this.searchName, searchInfo)\r\n        this.$set(regKey, this.searchName, CONSTANT.SEARCH_OPERATOR.LIKE)\r\n      // } else {\r\n      //   for (var i=0;i<this.searchName.length;i++) {\r\n      //     this.$set(searchKey, this.searchName[i], searchInfo)\r\n      //     this.$set(regKey, this.searchName[i], CONSTANT.SEARCH_OPERATOR.LIKE)\r\n      //     this.$set(andor, this.searchName[i], false)\r\n      //   }\r\n      //   this.$set(this.nowSearchWords, 'andor', andor)\r\n      }\r\n      this.$set(this.nowSearchWords, 'searchKey', searchKey)\r\n      this.$set(this.nowSearchWords, 'regKey', regKey)\r\n      setTimeout(() => { this.initDataList() }, 500)\r\n    },\r\n    advancedSearchClick(searchInfo) {\r\n      var searchKey = {}\r\n      var regKey = {}\r\n      const keys = Object.keys(searchInfo)\r\n      for (var i = 0; i < keys.length; i++) {\r\n        const item = this.searchItems.filter(item => item.field === keys[i])\r\n        if (item.length > 0) {\r\n          if (item[0].type === 'input') {\r\n            this.$set(searchKey, keys[i], searchInfo[keys[i]])\r\n            this.$set(regKey, keys[i], CONSTANT.SEARCH_OPERATOR.LIKE)\r\n          } else if (item[0].type === 'select') {\r\n            this.$set(searchKey, keys[i], searchInfo[keys[i]])\r\n          } else if (item[0].type === 'date') {\r\n            this.$set(searchKey, keys[i], { beginDate: searchInfo[keys[i]][0], endDate: searchInfo[keys[i]][1] })\r\n            this.$set(regKey, keys[i], CONSTANT.SEARCH_OPERATOR.RANGE)\r\n          }\r\n        }\r\n      }\r\n      this.$set(this.nowSearchWords, 'searchKey', searchKey)\r\n      this.$set(this.nowSearchWords, 'regKey', regKey)\r\n      setTimeout(() => { this.initDataList() }, 500)\r\n    },\r\n    // 更多内容1\r\n    async more1Click(row) {\r\n      this.$emit('more1-click', row)\r\n    },\r\n    // 更多内容2\r\n    async more2Click(row) {\r\n      this.$emit('more2-click', row)\r\n    },\r\n\r\n    // #endregion\r\n\r\n    // 刷新操作\r\n    refreshInit() {\r\n      this.$set(this.nowSearchWords, 'searchKey', {})\r\n      this.$set(this.nowSearchWords, 'regKey', {})\r\n      this.$set(this.nowSearchWords, 'andor', {})\r\n      // console.log(this.initSearchWords)\r\n      // if (!this.search) {\r\n      //\r\n      //   this.$emit('update:regKey', {})\r\n      //   this.$emit('update:searchKey', {})\r\n      //   this.$emit('update:treeInfo', {})\r\n      //   this.$emit('update:topTreeInfo', [])\r\n      //   this.search = false\r\n      //   setTimeout(() => { this.initDataList() }, 500)\r\n      // } else {\r\n      this.initDataList()\r\n      // }\r\n    },\r\n    // 自定义排序\r\n    handleSortChange(column) {\r\n      this.sortStr.properties = column.prop\r\n      if (column.order === 'ascending') {\r\n        this.sortStr.direction = 'ASC'\r\n      } else {\r\n        this.sortStr.direction = 'DESC'\r\n      }\r\n      setTimeout(() => { this.initDataList() }, 500)\r\n    },\r\n    // 监听点击某一行事件\r\n    handleColumnChange(val) {\r\n      if (!this.checkFlag) {\r\n        this.tableRadio = val\r\n        this.selectedColumns = [val]\r\n      }\r\n      this.$emit('update-column', val)\r\n    },\r\n    // 监听选中的事件\r\n    handleSelectionChange(selection) {\r\n      this.selectedColumns = selection\r\n    },\r\n    // 查看节点\r\n    async view(val) {\r\n      this.$emit('view-click', val)\r\n    },\r\n    // 改变页码\r\n    async handleSizeChange(val) {\r\n      this.pageInfo.size = val\r\n      this.isPageInit = true\r\n      await this.initDataList()\r\n      this.isPageInit = false\r\n    },\r\n    async handleCurrentChange(val) {\r\n      this.pageInfo.page = val\r\n      this.isPageInit = true\r\n      await this.initDataList()\r\n      this.isPageInit = false\r\n    }\r\n  }\r\n}\r\n// </script>\r\n// <style scoped lang=\"scss\">\r\n// @import \"~@/assets/css/variables.scss\";\r\n// .primary {\r\n//   background-color: $--color-primary;\r\n//   border-color: $--color-primary;\r\n//   &:hover {\r\n//     opacity: 0.8;\r\n//   }\r\n// }\r\n// ::v-deep .el-card__body {\r\n//   padding: 0;\r\n// }\r\n// .curd-opts {\r\n//   display: -webkit-flex;\r\n//   display: flex;\r\n//   align-items: center;\r\n//   justify-content: space-between;\r\n//   margin-bottom: 10px;\r\n// }\r\n\r\n// .color-yellow {\r\n//   color: #ffb400;\r\n// }\r\n// .color-red {\r\n//   color: #f5585f;\r\n// }\r\n// .color-green {\r\n//   color: #009140;\r\n// }\r\n// .color-blue {\r\n//   color: #1890ff;\r\n// }\r\n\r\n// .button-group {\r\n//   display: flex;\r\n//   justify-content: space-between;\r\n//   width: 100%;\r\n// }\r\n\r\n// .checkbox-item:nth-last-of-type(1) {\r\n//   margin-right: 30px;\r\n// }\r\n// </style>\r\n\r\n"]}]}